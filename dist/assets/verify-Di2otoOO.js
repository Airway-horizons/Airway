import{a as R,b as k,u as E,p as l,r as P,j as e,S as m,T as o,L as d,R as V,e as I,H as L}from"./index-DQumLT9L.js";import{c as H,a as u}from"./mui-one-time-password-input.es-CrCnoD2A.js";import"./image-BQLAgES7.js";import"./highlight-DjC4x1cy.js";import"./styles-CbjE8cRF.js";import{u as q,R as A,F as T,o as $}from"./rhf-text-field-D4JfNq3U.js";import{u as W}from"./use-countdown-DRgN5Ehl.js";import{E as z}from"./new-password-icon-C06ihSJr.js";import{R as B}from"./rhf-code-2NtMsYI6.js";import{L as D}from"./LoadingButton-By3CRbWh.js";import"./TextField-Y2PbW22P.js";import"./FormControl-CkY9ZgKl.js";import"./FormLabel-DQT9OHMa.js";import"./Select-DVR-Fv5D.js";import"./Menu-DSL53x_F.js";import"./CircularProgress-D2eR23uJ.js";function G(){const h=R(),p=k().get("email"),{confirmRegister:t,resendCodeRegister:a}=E(),{countdown:x,counting:i,startCountdown:s}=W(60),f=H().shape({code:u().min(6,"Code must be at least 6 characters").required("Code is required"),email:u().required("Email is required").email("Email must be a valid email address")}),y={code:"",email:p||""},n=q({mode:"onChange",resolver:$(f),defaultValues:y}),{watch:b,handleSubmit:j,formState:{isSubmitting:g}}=n,c=b(),v=j(async r=>{try{await(t==null?void 0:t(r.email,r.code)),h.push(l.auth.amplify.login)}catch(C){console.error(C)}}),w=P.useCallback(async()=>{try{s(),await(a==null?void 0:a(c.email))}catch(r){console.error(r)}},[a,s,c.email]),F=e.jsxs(m,{spacing:3,alignItems:"center",children:[e.jsx(A,{name:"email",label:"Email",placeholder:"example@gmail.com",InputLabelProps:{shrink:!0}}),e.jsx(B,{name:"code"}),e.jsx(D,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:g,children:"Verify"}),e.jsxs(o,{variant:"body2",children:["Donâ€™t have a code? ",e.jsxs(d,{variant:"subtitle2",onClick:w,sx:{cursor:"pointer",...i&&{color:"text.disabled",pointerEvents:"none"}},children:["Resend code ",i&&`(${x}s)`]})]}),e.jsxs(d,{component:V,href:l.auth.amplify.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[e.jsx(I,{icon:"eva:arrow-ios-back-fill",width:16}),"Return to sign in"]})]}),S=e.jsxs(e.Fragment,{children:[e.jsx(z,{sx:{height:96}}),e.jsxs(m,{spacing:1,sx:{mt:3,mb:5},children:[e.jsx(o,{variant:"h3",children:"Please check your email!"}),e.jsx(o,{variant:"body2",sx:{color:"text.secondary"},children:"We have emailed a 6-digit confirmation code to acb@domain, please enter the code in below box to verify your email."})]})]});return e.jsxs(e.Fragment,{children:[S,e.jsx(T,{methods:n,onSubmit:v,children:F})]})}function se(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{children:e.jsx("title",{children:" Amplify: Verify"})}),e.jsx(G,{})]})}export{se as default};
