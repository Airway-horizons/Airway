import{u as P,a as S,r as F,b as T,c as E,P as R,j as r,S as a,T as l,L as d,R as m,p as c,I as H,d as I,e as k,H as q}from"./index-9PXStj3N.js";import{c as B,a as p}from"./mui-one-time-password-input.es-bso2ZfVA.js";import{u as C,F as z,o as M,R as u}from"./rhf-text-field-BWFvqQHB.js";import"./image-DkY_3MJo.js";import"./highlight-LvrKAosx.js";import"./styles-CVRUAcvd.js";import{A as N}from"./Alert-BJp3Tzqk.js";import{L as V}from"./LoadingButton-iXxcTN9H.js";import"./new-password-icon-DPv__P3Q.js";import"./TextField-CbHhpLIE.js";import"./FormControl-BNnV7ofI.js";import"./FormLabel-CU7-epWv.js";import"./Select-De9_G4gT.js";import"./Menu-CNl6fHH1.js";import"./Close-DY-CD3mo.js";import"./CircularProgress-CGlsyqdu.js";function _(){const{login:s}=P(),h=S(),[t,x]=F.useState(""),g=T().get("returnTo"),o=E(),f=B().shape({email:p().required("Email is required").email("Email must be a valid email address"),password:p().required("Password is required")}),j={email:"",password:""},i=C({resolver:M(f),defaultValues:j}),{reset:y,handleSubmit:w,formState:{isSubmitting:b}}=i,v=w(async n=>{try{await(s==null?void 0:s(n.email,n.password)),h.push(g||R)}catch(e){console.error(e),y(),x(typeof e=="string"?e:e.message)}}),A=r.jsxs(a,{spacing:2,sx:{mb:5},children:[r.jsx(l,{variant:"h4",children:"Sign in to Airway Horizons"}),r.jsxs(a,{direction:"row",spacing:.5,children:[r.jsx(l,{variant:"body2",children:"New user?"}),r.jsx(d,{component:m,href:c.auth.amplify.register,variant:"subtitle2",children:"Create an account"})]})]}),L=r.jsxs(a,{spacing:2.5,children:[r.jsx(u,{name:"email",label:"Email address"}),r.jsx(u,{name:"password",label:"Password",type:o.value?"text":"password",InputProps:{endAdornment:r.jsx(H,{position:"end",children:r.jsx(I,{onClick:o.onToggle,edge:"end",children:r.jsx(k,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),r.jsx(d,{component:m,href:c.auth.amplify.forgotPassword,variant:"body2",color:"inherit",underline:"always",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),r.jsx(V,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:b,children:"Login"})]});return r.jsxs(r.Fragment,{children:[A,!!t&&r.jsx(N,{severity:"error",sx:{mb:3},children:t}),r.jsx(z,{methods:i,onSubmit:v,children:L})]})}function tr(){return r.jsxs(r.Fragment,{children:[r.jsx(q,{children:r.jsx("title",{children:" Amplify: Amplify Login"})}),r.jsx(_,{})]})}export{tr as default};
