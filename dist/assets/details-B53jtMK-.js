import{s as G,y as d,bP as Lt,r as p,x as rt,_ as H,j as t,E as z,F as at,bQ as Ft,h as it,D as ht,ax as Rt,bR as $t,bS as pt,v as gt,w as bt,a9 as Y,X as kt,ae as Mt,bT as It,aP as Bt,ag as Nt,am as Ut,g as Ot,B as J,o as zt,n as mt,C as q,T as U,S as A,I,l as st,V as Gt,p as ut,a4 as _t,U as Wt}from"./index-BhdCYkZV.js";import{u as Ht}from"./use-params-DOXk3FTh.js";import"./styles-DRY8vysJ.js";import{e as Vt}from"./_calendar-Dyx2_jOo.js";import"./axios-DYmJw9DC.js";import"./label-Coxr4BNq.js";import"./styles-RB4_yDgs.js";import"./image-BJJE_TPR.js";import"./text-max-line-DRJEIWKP.js";import{c as Kt,a as nt}from"./index.esm-D-Soo4Ud.js";import"./upgrade-storage-illustration-dsGKY008.js";import"./styles-NzEnf_1s.js";import{a as qt}from"./format-number-CumFFTXv.js";import{b as Zt,c as Qt,P as Xt,d as Jt}from"./post-list-Bvst5T6K.js";import{M as Yt}from"./markdown-8psltGP3.js";import{E as te}from"./empty-content-DR8v68t7.js";import{C as ee}from"./custom-breadcrumbs-BeiNubHp.js";import{u as oe}from"./use-boolean-C94Jhiw3.js";import{f as vt}from"./format-time-5eis5PTK.js";import{L as se}from"./ListItem-2igeuWLJ.js";import{a as ne,A as tt}from"./Avatar-BHKZIHTj.js";import{T as re}from"./TextField-CncyZTD-.js";import{B as jt}from"./Button-DZJrFnGY.js";import{P as ae}from"./Pagination-Biztg9M4.js";import{u as ie,o as le}from"./yup-BTbT6D2D.js";import{F as ce,R as de,L as pe}from"./rhf-text-field-DH4067uZ.js";import{L as me}from"./ListItemText-C0K72W-6.js";import{F as yt}from"./Fab-BmlpwYQQ.js";import{C as ue}from"./Chip-bQaCAoIM.js";import{F as xe,C as fe}from"./Checkbox-1hf6bwx3.js";import"./Card-BFYwemZH.js";import"./CardContent-CXEklQTg.js";import"./createSvgIcon-BFEWvRmZ.js";import"./useSlot-D6O1eN6S.js";import"./useFormControl-Bfj9sF6o.js";import"./formControlState-Dq1zat_P.js";import"./SwitchBase-CPi4W2Vl.js";const he=["children","className","component","componentsProps","max","renderSurplus","slotProps","spacing","total","variant"],xt={small:-16,medium:null},ge=o=>{const{classes:e}=o;return at({root:["root"],avatar:["avatar"]},Ft,e)},be=G("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(o,e)=>d({[`& .${Lt.avatar}`]:e.avatar},e.root)})(({theme:o,ownerState:e})=>{const s=e.spacing&&xt[e.spacing]!==void 0?xt[e.spacing]:-e.spacing;return{[`& .${ne.root}`]:{border:`2px solid ${(o.vars||o).palette.background.default}`,boxSizing:"content-box",marginLeft:s??-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"}}),ve=p.forwardRef(function(e,s){var n;const i=rt({props:e,name:"MuiAvatarGroup"}),{children:m,className:l,component:x="div",componentsProps:u={},max:g=5,renderSurplus:a,slotProps:b={},spacing:j="medium",total:L,variant:f="circular"}=i,w=H(i,he);let h=g<2?2:g;const D=d({},i,{max:g,spacing:j,component:x,variant:f}),S=ge(D),T=p.Children.toArray(m).filter($=>p.isValidElement($)),y=L||T.length;y===h&&(h+=1),h=Math.min(y+1,h);const R=Math.min(T.length,h-1),v=Math.max(y-h,y-R,0),V=a?a(v):`+${v}`,F=(n=b.additionalAvatar)!=null?n:u.additionalAvatar;return t.jsxs(be,d({as:x,ownerState:D,className:z(S.root,l),ref:s},w,{children:[v?t.jsx(tt,d({variant:f},F,{className:z(S.avatar,F==null?void 0:F.className),children:V})):null,T.slice(0,R).reverse().map($=>p.cloneElement($,{className:z($.props.className,S.avatar),variant:$.props.variant||f}))]}))}),je=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ye={entering:{transform:"none"},entered:{transform:"none"}},Pe=p.forwardRef(function(e,s){const n=it(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:m,appear:l=!0,children:x,easing:u,in:g,onEnter:a,onEntered:b,onEntering:j,onExit:L,onExited:f,onExiting:w,style:h,timeout:D=i,TransitionComponent:S=Rt}=e,T=H(e,je),y=p.useRef(null),R=ht(y,x.ref,s),v=c=>P=>{if(c){const k=y.current;P===void 0?c(k):c(k,P)}},V=v(j),F=v((c,P)=>{$t(c);const k=pt({style:h,timeout:D,easing:u},{mode:"enter"});c.style.webkitTransition=n.transitions.create("transform",k),c.style.transition=n.transitions.create("transform",k),a&&a(c,P)}),$=v(b),E=v(w),B=v(c=>{const P=pt({style:h,timeout:D,easing:u},{mode:"exit"});c.style.webkitTransition=n.transitions.create("transform",P),c.style.transition=n.transitions.create("transform",P),L&&L(c)}),_=v(f),W=c=>{m&&m(y.current,c)};return t.jsx(S,d({appear:l,in:g,nodeRef:y,onEnter:F,onEntered:$,onEntering:V,onExit:B,onExited:_,onExiting:E,addEndListener:W,timeout:D},T,{children:(c,P)=>p.cloneElement(x,d({style:d({transform:"scale(0)",visibility:c==="exited"&&!g?"hidden":void 0},ye[c],h,x.props.style),ref:R},P))}))});function Ce(o){return bt("MuiSpeedDial",o)}const Q=gt("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),De=["ref"],Se=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],Te=["ref"],Ee=o=>{const{classes:e,open:s,direction:n}=o,i={root:["root",`direction${Y(n)}`],fab:["fab"],actions:["actions",!s&&"actionsClosed"]};return at(i,Ce,e)};function K(o){if(o==="up"||o==="down")return"vertical";if(o==="right"||o==="left")return"horizontal"}const N=32,X=16,we=G("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.root,e[`direction${Y(s.direction)}`]]}})(({theme:o,ownerState:e})=>d({zIndex:(o.vars||o).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},e.direction==="up"&&{flexDirection:"column-reverse",[`& .${Q.actions}`]:{flexDirection:"column-reverse",marginBottom:-N,paddingBottom:X+N}},e.direction==="down"&&{flexDirection:"column",[`& .${Q.actions}`]:{flexDirection:"column",marginTop:-N,paddingTop:X+N}},e.direction==="left"&&{flexDirection:"row-reverse",[`& .${Q.actions}`]:{flexDirection:"row-reverse",marginRight:-N,paddingRight:X+N}},e.direction==="right"&&{flexDirection:"row",[`& .${Q.actions}`]:{flexDirection:"row",marginLeft:-N,paddingLeft:X+N}})),Ae=G(yt,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(o,e)=>e.fab})(()=>({pointerEvents:"auto"})),Le=G("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.actions,!s.open&&e.actionsClosed]}})(({ownerState:o})=>d({display:"flex",pointerEvents:"auto"},!o.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),Fe=p.forwardRef(function(e,s){const n=rt({props:e,name:"MuiSpeedDial"}),i=it(),m={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:l,FabProps:{ref:x}={},children:u,className:g,direction:a="up",hidden:b=!1,icon:j,onBlur:L,onClose:f,onFocus:w,onKeyDown:h,onMouseEnter:D,onMouseLeave:S,onOpen:T,open:y,TransitionComponent:R=Pe,transitionDuration:v=m,TransitionProps:V}=n,F=H(n.FabProps,De),$=H(n,Se),[E,B]=kt({controlled:y,default:!1,name:"SpeedDial",state:"open"}),_=d({},n,{open:E,direction:a}),W=Ee(_),c=Mt(),P=p.useRef(0),k=p.useRef(),O=p.useRef([]);O.current=[O.current[0]];const Pt=p.useCallback(r=>{O.current[0]=r},[]),Ct=ht(x,Pt),Dt=(r,C)=>M=>{O.current[r+1]=M,C&&C(M)},St=r=>{h&&h(r);const C=r.key.replace("Arrow","").toLowerCase(),{current:M=C}=k;if(r.key==="Escape"){B(!1),O.current[0].focus(),f&&f(r,"escapeKeyDown");return}if(K(C)===K(M)&&K(C)!==void 0){r.preventDefault();const ot=C===M?1:-1,Z=Bt(P.current+ot,0,O.current.length-1);O.current[Z].focus(),P.current=Z,k.current=M}};p.useEffect(()=>{E||(P.current=0,k.current=void 0)},[E]);const lt=r=>{r.type==="mouseleave"&&S&&S(r),r.type==="blur"&&L&&L(r),c.clear(),r.type==="blur"?c.start(0,()=>{B(!1),f&&f(r,"blur")}):(B(!1),f&&f(r,"mouseLeave"))},Tt=r=>{F.onClick&&F.onClick(r),c.clear(),E?(B(!1),f&&f(r,"toggle")):(B(!0),T&&T(r,"toggle"))},ct=r=>{r.type==="mouseenter"&&D&&D(r),r.type==="focus"&&w&&w(r),c.clear(),E||c.start(0,()=>{B(!0),T&&T(r,{focus:"focus",mouseenter:"mouseEnter"}[r.type])})},et=l.replace(/^[^a-z]+|[^\w:.-]+/gi,""),dt=p.Children.toArray(u).filter(r=>p.isValidElement(r)),Et=dt.map((r,C)=>{const M=r.props,{FabProps:{ref:ot}={},tooltipPlacement:Z}=M,wt=H(M.FabProps,Te),At=Z||(K(a)==="vertical"?"left":"top");return p.cloneElement(r,{FabProps:d({},wt,{ref:Dt(C,ot)}),delay:30*(E?C:dt.length-C),open:E,tooltipPlacement:At,id:`${et}-action-${C}`})});return t.jsxs(we,d({className:z(W.root,g),ref:s,role:"presentation",onKeyDown:St,onBlur:lt,onFocus:ct,onMouseEnter:ct,onMouseLeave:lt,ownerState:_},$,{children:[t.jsx(R,d({in:!b,timeout:v,unmountOnExit:!0},V,{children:t.jsx(Ae,d({color:"primary","aria-label":l,"aria-haspopup":"true","aria-expanded":E,"aria-controls":`${et}-actions`},F,{onClick:Tt,className:z(W.fab,F.className),ref:Ct,ownerState:_,children:p.isValidElement(j)&&It(j,["SpeedDialIcon"])?p.cloneElement(j,{open:E}):j}))})),t.jsx(Le,{id:`${et}-actions`,role:"menu","aria-orientation":K(a),className:z(W.actions,!E&&W.actionsClosed),ownerState:_,children:Et})]}))});function Re(o){return bt("MuiSpeedDialAction",o)}const $e=gt("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),ke=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],Me=o=>{const{open:e,tooltipPlacement:s,classes:n}=o,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${Y(s)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return at(i,Re,n)},Ie=G(yt,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.fab,!s.open&&e.fabClosed]}})(({theme:o,ownerState:e})=>d({margin:8,color:(o.vars||o).palette.text.secondary,backgroundColor:(o.vars||o).palette.background.paper,"&:hover":{backgroundColor:o.vars?o.vars.palette.SpeedDialAction.fabHoverBg:Nt(o.palette.background.paper,.15)},transition:`${o.transitions.create("transform",{duration:o.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!e.open&&{opacity:0,transform:"scale(0)"})),Be=G("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.staticTooltip,!s.open&&e.staticTooltipClosed,e[`tooltipPlacement${Y(s.tooltipPlacement)}`]]}})(({theme:o,ownerState:e})=>({position:"relative",display:"flex",alignItems:"center",[`& .${$e.staticTooltipLabel}`]:d({transition:o.transitions.create(["transform","opacity"],{duration:o.transitions.duration.shorter}),opacity:1},!e.open&&{opacity:0,transform:"scale(0.5)"},e.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},e.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),Ne=G("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(o,e)=>e.staticTooltipLabel})(({theme:o})=>d({position:"absolute"},o.typography.body1,{backgroundColor:(o.vars||o).palette.background.paper,borderRadius:(o.vars||o).shape.borderRadius,boxShadow:(o.vars||o).shadows[1],color:(o.vars||o).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),Ue=p.forwardRef(function(e,s){const n=rt({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:m=0,FabProps:l={},icon:x,id:u,open:g,TooltipClasses:a,tooltipOpen:b=!1,tooltipPlacement:j="left",tooltipTitle:L}=n,f=H(n,ke),w=d({},n,{tooltipPlacement:j}),h=Me(w),[D,S]=p.useState(b),T=()=>{S(!1)},y=()=>{S(!0)},R={transitionDelay:`${m}ms`},v=t.jsx(Ie,d({size:"small",className:z(h.fab,i),tabIndex:-1,role:"menuitem",ownerState:w},l,{style:d({},R,l.style),children:x}));return b?t.jsxs(Be,d({id:u,ref:s,className:h.staticTooltip,ownerState:w},f,{children:[t.jsx(Ne,{style:R,id:`${u}-label`,className:h.staticTooltipLabel,ownerState:w,children:L}),p.cloneElement(v,{"aria-labelledby":`${u}-label`})]})):(!g&&D&&S(!1),t.jsx(Ut,d({id:u,ref:s,title:L,placement:j,onClose:T,onOpen:y,open:g&&D,classes:a},f,{children:v})))});function Oe({title:o,author:e,coverUrl:s,createdAt:n}){const i=it(),m=Ot("up","sm");return t.jsx(J,{sx:{height:480,overflow:"hidden",...zt({imgUrl:s,startColor:`${mt(i.palette.grey[900],.64)} 0%`,endColor:`${mt(i.palette.grey[900],.64)} 100%`})},children:t.jsxs(q,{sx:{height:1,position:"relative"},children:[t.jsx(U,{variant:"h3",component:"h1",sx:{zIndex:9,color:"common.white",position:"absolute",maxWidth:480,pt:{xs:2,md:8}},children:o}),t.jsxs(A,{sx:{left:0,width:1,bottom:0,position:"absolute"},children:[e&&n&&t.jsxs(A,{direction:"row",alignItems:"center",sx:{px:{xs:2,md:3},pb:{xs:3,md:8}},children:[t.jsx(tt,{alt:e.name,src:e.avatarUrl,sx:{width:64,height:64,mr:2}}),t.jsx(me,{sx:{color:"common.white"},primary:e.name,secondary:vt(n),primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{color:"inherit",sx:{opacity:.64}}})]}),t.jsx(Fe,{direction:m?"left":"up",ariaLabel:"Share post",icon:t.jsx(I,{icon:"solar:share-bold"}),FabProps:{size:"medium"},sx:{position:"absolute",bottom:{xs:32,md:64},right:{xs:16,md:24}},children:Vt.map(l=>t.jsx(Ue,{icon:t.jsx(I,{icon:l.icon,sx:{color:l.color}}),tooltipTitle:l.name,tooltipPlacement:"top",FabProps:{color:"default"}},l.name))})]})]})})}function ft({name:o,avatarUrl:e,message:s,tagUser:n,postedAt:i,hasReply:m}){const l=oe();return t.jsxs(se,{sx:{p:0,pt:3,alignItems:"flex-start",...m&&{pl:8}},children:[t.jsx(tt,{alt:o,src:e,sx:{mr:2,width:48,height:48}}),t.jsxs(A,{flexGrow:1,sx:{pb:3,borderBottom:x=>`solid 1px ${x.palette.divider}`},children:[t.jsx(U,{variant:"subtitle2",sx:{mb:.5},children:o}),t.jsx(U,{variant:"caption",sx:{color:"text.disabled"},children:vt(i)}),t.jsxs(U,{variant:"body2",sx:{mt:1},children:[n&&t.jsxs(J,{component:"strong",sx:{mr:.5},children:["@",n]}),s]}),l.value&&t.jsx(J,{sx:{mt:2},children:t.jsx(re,{fullWidth:!0,autoFocus:!0,placeholder:"Write comment..."})})]}),!m&&t.jsx(jt,{size:"small",color:l.value?"primary":"inherit",startIcon:t.jsx(I,{icon:"solar:pen-bold",width:16}),onClick:l.onToggle,sx:{right:0,position:"absolute"},children:"Reply"})]})}function ze({comments:o}){return t.jsxs(t.Fragment,{children:[t.jsx(t.Fragment,{children:o.map(e=>{const{id:s,replyComment:n,name:i,users:m,message:l,avatarUrl:x,postedAt:u}=e,g=!!n.length;return t.jsxs(J,{children:[t.jsx(ft,{name:i,message:l,postedAt:u,avatarUrl:x}),g&&n.map(a=>{const b=m.find(j=>j.id===a.userId);return t.jsx(ft,{name:(b==null?void 0:b.name)||"",message:a.message,postedAt:a.postedAt,avatarUrl:(b==null?void 0:b.avatarUrl)||"",tagUser:a.tagUser,hasReply:!0},a.id)})]},s)})}),t.jsx(ae,{count:8,sx:{my:5,mx:"auto"}})]})}function Ge(){const o=Kt().shape({comment:nt().required("Comment is required"),name:nt().required("Name is required"),email:nt().required("Email is required").email("Email must be a valid email address")}),e={comment:"",name:"",email:""},s=ie({resolver:le(o),defaultValues:e}),{reset:n,handleSubmit:i,formState:{isSubmitting:m}}=s,l=i(async x=>{try{await new Promise(u=>setTimeout(u,500)),n(),console.info("DATA",x)}catch(u){console.error(u)}});return t.jsx(ce,{methods:s,onSubmit:l,children:t.jsxs(A,{spacing:3,children:[t.jsx(de,{name:"comment",placeholder:"Write some of your comments...",multiline:!0,rows:4}),t.jsxs(A,{direction:"row",alignItems:"center",children:[t.jsxs(A,{direction:"row",alignItems:"center",flexGrow:1,children:[t.jsx(st,{children:t.jsx(I,{icon:"solar:gallery-add-bold"})}),t.jsx(st,{children:t.jsx(I,{icon:"eva:attach-2-fill"})}),t.jsx(st,{children:t.jsx(I,{icon:"eva:smiling-face-fill"})})]}),t.jsx(pe,{type:"submit",variant:"contained",loading:m,children:"Post comment"})]})]})})}function _e({title:o}){const{post:e,postError:s,postLoading:n}=Zt(o),{latestPosts:i,latestPostsLoading:m}=Qt(o),l=t.jsx(Jt,{}),x=t.jsx(q,{sx:{my:10},children:t.jsx(te,{filled:!0,title:`${s==null?void 0:s.message}`,action:t.jsx(jt,{component:Gt,href:ut.post.root,startIcon:t.jsx(I,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:10}})}),u=e&&t.jsxs(t.Fragment,{children:[t.jsx(Oe,{title:e.title,author:e.author,coverUrl:e.coverUrl,createdAt:e.createdAt}),t.jsx(q,{maxWidth:!1,sx:{py:3,mb:5,borderBottom:a=>`solid 1px ${a.palette.divider}`},children:t.jsx(ee,{links:[{name:"Home",href:"/"},{name:"Blog",href:ut.post.root},{name:e==null?void 0:e.title}],sx:{maxWidth:720,mx:"auto"}})}),t.jsx(q,{maxWidth:!1,children:t.jsxs(A,{sx:{maxWidth:720,mx:"auto"},children:[t.jsx(U,{variant:"subtitle1",sx:{mb:5},children:e.description}),t.jsx(Yt,{children:e.content}),t.jsxs(A,{spacing:3,sx:{py:3,borderTop:a=>`dashed 1px ${a.palette.divider}`,borderBottom:a=>`dashed 1px ${a.palette.divider}`},children:[t.jsx(A,{direction:"row",flexWrap:"wrap",spacing:1,children:e.tags.map(a=>t.jsx(ue,{label:a,variant:"soft"},a))}),t.jsxs(A,{direction:"row",alignItems:"center",children:[t.jsx(xe,{control:t.jsx(fe,{defaultChecked:!0,size:"small",color:"error",icon:t.jsx(I,{icon:"solar:heart-bold"}),checkedIcon:t.jsx(I,{icon:"solar:heart-bold"})}),label:qt(e.totalFavorites),sx:{mr:1}}),t.jsx(ve,{children:e.favoritePerson.map(a=>t.jsx(tt,{alt:a.name,src:a.avatarUrl},a.name))})]})]}),t.jsxs(A,{direction:"row",sx:{mb:3,mt:5},children:[t.jsx(U,{variant:"h4",children:"Comments"}),t.jsxs(U,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",e.comments.length,")"]})]}),t.jsx(Ge,{}),t.jsx(_t,{sx:{mt:5,mb:2}}),t.jsx(ze,{comments:e.comments})]})})]}),g=t.jsxs(t.Fragment,{children:[t.jsx(U,{variant:"h4",sx:{mb:5},children:"Recent Posts"}),t.jsx(Xt,{posts:i.slice(i.length-4),loading:m,disabledIndex:!0})]});return t.jsxs(t.Fragment,{children:[n&&l,s&&x,e&&u,t.jsx(q,{sx:{pb:15},children:!!i.length&&g})]})}function wo(){const o=Ht(),{title:e}=o;return t.jsxs(t.Fragment,{children:[t.jsx(Wt,{children:t.jsx("title",{children:" Post: Details"})}),t.jsx(_e,{title:`${e}`})]})}export{wo as default};
