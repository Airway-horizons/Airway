import{V,j as Ve}from"./index-DQumLT9L.js";import{T as Nr}from"./TextField-Y2PbW22P.js";var _e=e=>e.type==="checkbox",ue=e=>e instanceof Date,j=e=>e==null;const dr=e=>typeof e=="object";var N=e=>!j(e)&&!Array.isArray(e)&&dr(e)&&!ue(e),yr=e=>N(e)&&e.target?_e(e.target)?e.target.checked:e.target.value:e,Pr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gr=(e,t)=>e.has(Pr(t)),Br=e=>{const t=e.constructor&&e.constructor.prototype;return N(t)&&t.hasOwnProperty("isPrototypeOf")},$e=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!($e&&(e instanceof Blob||e instanceof FileList))&&(r||N(e)))if(t=r?[]:{},!r&&!Br(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=M(e[s]));else return e;return t}var he=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,o=(e,t,r)=>{if(!t||!N(e))return r;const s=he(t.split(/[,[\].]+?/)).reduce((u,n)=>j(u)?u:u[n],e);return C(s)||s===e?C(e[t])?r:e[t]:s},Z=e=>typeof e=="boolean",Ke=e=>/^\w*$/.test(e),_r=e=>he(e.replace(/["|']|\]/g,"").split(/\.|\[/)),D=(e,t,r)=>{let s=-1;const u=Ke(t)?[t]:_r(t),n=u.length,f=n-1;for(;++s<n;){const y=u[s];let m=r;if(s!==f){const S=e[y];m=N(S)||Array.isArray(S)?S:isNaN(+u[s+1])?{}:[]}if(y==="__proto__")return;e[y]=m,e=e[y]}return e};const Ae={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},re={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hr=V.createContext(null),ve=()=>V.useContext(hr),Ir=e=>{const{children:t,...r}=e;return V.createElement(hr.Provider,{value:r},t)};var vr=(e,t,r,s=!0)=>{const u={defaultValues:t._defaultValues};for(const n in e)Object.defineProperty(u,n,{get:()=>{const f=n;return t._proxyFormState[f]!==G.all&&(t._proxyFormState[f]=!s||G.all),r&&(r[f]=!0),e[f]}});return u},I=e=>N(e)&&!Object.keys(e).length,mr=(e,t,r,s)=>{r(e);const{name:u,...n}=e;return I(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(f=>t[f]===(!s||G.all))},W=e=>Array.isArray(e)?e:[e],br=(e,t,r)=>!e||!t||e===t||W(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s)));function De(e){const t=V.useRef(e);t.current=e,V.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function jr(e){const t=ve(),{control:r=t.control,disabled:s,name:u,exact:n}=e||{},[f,y]=V.useState(r._formState),m=V.useRef(!0),S=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),v=V.useRef(u);return v.current=u,De({disabled:s,next:b=>m.current&&br(v.current,b.name,n)&&mr(b,S.current,r._updateFormState)&&y({...r._formState,...b}),subject:r._subjects.state}),V.useEffect(()=>(m.current=!0,S.current.isValid&&r._updateValid(!0),()=>{m.current=!1}),[r]),vr(f,r,S.current,!1)}var ee=e=>typeof e=="string",Fr=(e,t,r,s,u)=>ee(e)?(s&&t.watch.add(e),o(r,e,u)):Array.isArray(e)?e.map(n=>(s&&t.watch.add(n),o(r,n))):(s&&(t.watchAll=!0),r);function Wr(e){const t=ve(),{control:r=t.control,name:s,defaultValue:u,disabled:n,exact:f}=e||{},y=V.useRef(s);y.current=s,De({disabled:n,subject:r._subjects.values,next:v=>{br(y.current,v.name,f)&&S(M(Fr(y.current,r._names,v.values||r._formValues,!1,u)))}});const[m,S]=V.useState(r._getWatch(s,u));return V.useEffect(()=>r._removeUnmounted()),m}function qr(e){const t=ve(),{name:r,disabled:s,control:u=t.control,shouldUnregister:n}=e,f=gr(u._names.array,r),y=Wr({control:u,name:r,defaultValue:o(u._formValues,r,o(u._defaultValues,r,e.defaultValue)),exact:!0}),m=jr({control:u,name:r,exact:!0}),S=V.useRef(u.register(r,{...e.rules,value:y,...Z(e.disabled)?{disabled:e.disabled}:{}}));return V.useEffect(()=>{const v=u._options.shouldUnregister||n,b=(w,H)=>{const U=o(u._fields,w);U&&U._f&&(U._f.mount=H)};if(b(r,!0),v){const w=M(o(u._options.defaultValues,r));D(u._defaultValues,r,w),C(o(u._formValues,r))&&D(u._formValues,r,w)}return()=>{(f?v&&!u._state.action:v)?u.unregister(r):b(r,!1)}},[r,u,f,n]),V.useEffect(()=>{o(u._fields,r)&&u._updateDisabledField({disabled:s,fields:u._fields,name:r,value:o(u._fields,r)._f.value})},[s,r,u]),{field:{name:r,value:y,...Z(s)||m.disabled?{disabled:m.disabled||s}:{},onChange:V.useCallback(v=>S.current.onChange({target:{value:yr(v),name:r},type:Ae.CHANGE}),[r]),onBlur:V.useCallback(()=>S.current.onBlur({target:{value:o(u._formValues,r),name:r},type:Ae.BLUR}),[r,u]),ref:V.useCallback(v=>{const b=o(u._fields,r);b&&v&&(b._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:w=>v.setCustomValidity(w),reportValidity:()=>v.reportValidity()})},[u._fields,r])},formState:m,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!o(m.errors,r)},isDirty:{enumerable:!0,get:()=>!!o(m.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!o(m.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!o(m.validatingFields,r)},error:{enumerable:!0,get:()=>o(m.errors,r)}})}}const Hr=e=>e.render(qr(e));var Vr=(e,t,r,s,u)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:u||!0}}:{},te=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Oe=(e,t,r={})=>r.shouldFocus||C(r.shouldFocus)?r.focusName||`${e}.${C(r.focusIndex)?t:r.focusIndex}.`:"",ge=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),qe=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const le=(e,t,r,s)=>{for(const u of r||Object.keys(e)){const n=o(e,u);if(n){const{_f:f,...y}=n;if(f){if(f.refs&&f.refs[0]&&t(f.refs[0],u)&&!s)break;if(f.ref&&t(f.ref,f.name)&&!s)break;le(y,t)}else N(y)&&le(y,t)}}};var Ar=(e,t,r)=>{const s=W(o(e,r));return D(s,"root",t[r]),D(e,r,s),e},Ge=e=>e.type==="file",se=e=>typeof e=="function",xe=e=>{if(!$e)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Fe=e=>ee(e),ze=e=>e.type==="radio",pe=e=>e instanceof RegExp;const ar={value:!1,isValid:!1},nr={value:!0,isValid:!0};var xr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?nr:{value:e[0].value,isValid:!0}:nr:ar}return ar};const ur={isValid:!1,value:null};var pr=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ur):ur;function lr(e,t,r="validate"){if(Fe(e)||Array.isArray(e)&&e.every(Fe)||Z(e)&&!e)return{type:r,message:Fe(e)?e:"",ref:t}}var ne=e=>N(e)&&!pe(e)?e:{value:e,message:""},He=async(e,t,r,s,u)=>{const{ref:n,refs:f,required:y,maxLength:m,minLength:S,min:v,max:b,pattern:w,validate:H,name:U,valueAsNumber:oe,mount:X,disabled:Y}=e._f,p=o(t,U);if(!X||Y)return{};const z=f?f[0]:n,J=x=>{s&&z.reportValidity&&(z.setCustomValidity(Z(x)?"":x||""),z.reportValidity())},_={},F=ze(n),A=_e(n),R=F||A,$=(oe||Ge(n))&&C(n.value)&&C(p)||xe(n)&&n.value===""||p===""||Array.isArray(p)&&!p.length,B=Vr.bind(null,U,r,_),me=(x,k,L,P=re.maxLength,Q=re.minLength)=>{const K=x?k:L;_[U]={type:x?P:Q,message:K,ref:n,...B(x?P:Q,K)}};if(u?!Array.isArray(p)||!p.length:y&&(!R&&($||j(p))||Z(p)&&!p||A&&!xr(f).isValid||F&&!pr(f).isValid)){const{value:x,message:k}=Fe(y)?{value:!!y,message:y}:ne(y);if(x&&(_[U]={type:re.required,message:k,ref:z,...B(re.required,k)},!r))return J(k),_}if(!$&&(!j(v)||!j(b))){let x,k;const L=ne(b),P=ne(v);if(!j(p)&&!isNaN(p)){const Q=n.valueAsNumber||p&&+p;j(L.value)||(x=Q>L.value),j(P.value)||(k=Q<P.value)}else{const Q=n.valueAsDate||new Date(p),K=de=>new Date(new Date().toDateString()+" "+de),ce=n.type=="time",fe=n.type=="week";ee(L.value)&&p&&(x=ce?K(p)>K(L.value):fe?p>L.value:Q>new Date(L.value)),ee(P.value)&&p&&(k=ce?K(p)<K(P.value):fe?p<P.value:Q<new Date(P.value))}if((x||k)&&(me(!!x,L.message,P.message,re.max,re.min),!r))return J(_[U].message),_}if((m||S)&&!$&&(ee(p)||u&&Array.isArray(p))){const x=ne(m),k=ne(S),L=!j(x.value)&&p.length>+x.value,P=!j(k.value)&&p.length<+k.value;if((L||P)&&(me(L,x.message,k.message),!r))return J(_[U].message),_}if(w&&!$&&ee(p)){const{value:x,message:k}=ne(w);if(pe(x)&&!p.match(x)&&(_[U]={type:re.pattern,message:k,ref:n,...B(re.pattern,k)},!r))return J(k),_}if(H){if(se(H)){const x=await H(p,t),k=lr(x,z);if(k&&(_[U]={...k,...B(re.validate,k.message)},!r))return J(k.message),_}else if(N(H)){let x={};for(const k in H){if(!I(x)&&!r)break;const L=lr(await H[k](p,t),z,k);L&&(x={...L,...B(k,L.message)},J(L.message),r&&(_[U]=x))}if(!I(x)&&(_[U]={ref:z,...x},!r))return _}}return J(!0),_},Te=(e,t)=>[...e,...W(t)],Ue=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Le(e,t,r){return[...e.slice(0,t),...W(r),...e.slice(t)]}var Me=(e,t,r)=>Array.isArray(e)?(C(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Ne=(e,t)=>[...W(t),...W(e)];function $r(e,t){let r=0;const s=[...e];for(const u of t)s.splice(u-r,1),r++;return he(s).length?s:[]}var Pe=(e,t)=>C(t)?[]:$r(e,W(t).sort((r,s)=>r-s)),Be=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function Kr(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=C(e)?s++:e[t[s++]];return e}function Gr(e){for(const t in e)if(e.hasOwnProperty(t)&&!C(e[t]))return!1;return!0}function T(e,t){const r=Array.isArray(t)?t:Ke(t)?[t]:_r(t),s=r.length===1?e:Kr(e,r),u=r.length-1,n=r[u];return s&&delete s[n],u!==0&&(N(s)&&I(s)||Array.isArray(s)&&Gr(s))&&T(e,r.slice(0,-1)),e}var or=(e,t,r)=>(e[t]=r,e);function lt(e){const t=ve(),{control:r=t.control,name:s,keyName:u="id",shouldUnregister:n}=e,[f,y]=V.useState(r._getFieldArray(s)),m=V.useRef(r._getFieldArray(s).map(te)),S=V.useRef(f),v=V.useRef(s),b=V.useRef(!1);v.current=s,S.current=f,r._names.array.add(s),e.rules&&r.register(s,e.rules),De({next:({values:_,name:F})=>{if(F===v.current||!F){const A=o(_,v.current);Array.isArray(A)&&(y(A),m.current=A.map(te))}},subject:r._subjects.array});const w=V.useCallback(_=>{b.current=!0,r._updateFieldArray(s,_)},[r,s]),H=(_,F)=>{const A=W(M(_)),R=Te(r._getFieldArray(s),A);r._names.focus=Oe(s,R.length-1,F),m.current=Te(m.current,A.map(te)),w(R),y(R),r._updateFieldArray(s,R,Te,{argA:Ue(_)})},U=(_,F)=>{const A=W(M(_)),R=Ne(r._getFieldArray(s),A);r._names.focus=Oe(s,0,F),m.current=Ne(m.current,A.map(te)),w(R),y(R),r._updateFieldArray(s,R,Ne,{argA:Ue(_)})},oe=_=>{const F=Pe(r._getFieldArray(s),_);m.current=Pe(m.current,_),w(F),y(F),r._updateFieldArray(s,F,Pe,{argA:_})},X=(_,F,A)=>{const R=W(M(F)),$=Le(r._getFieldArray(s),_,R);r._names.focus=Oe(s,_,A),m.current=Le(m.current,_,R.map(te)),w($),y($),r._updateFieldArray(s,$,Le,{argA:_,argB:Ue(F)})},Y=(_,F)=>{const A=r._getFieldArray(s);Be(A,_,F),Be(m.current,_,F),w(A),y(A),r._updateFieldArray(s,A,Be,{argA:_,argB:F},!1)},p=(_,F)=>{const A=r._getFieldArray(s);Me(A,_,F),Me(m.current,_,F),w(A),y(A),r._updateFieldArray(s,A,Me,{argA:_,argB:F},!1)},z=(_,F)=>{const A=M(F),R=or(r._getFieldArray(s),_,A);m.current=[...R].map(($,B)=>!$||B===_?te():m.current[B]),w(R),y([...R]),r._updateFieldArray(s,R,or,{argA:_,argB:A},!0,!1)},J=_=>{const F=W(M(_));m.current=F.map(te),w([...F]),y([...F]),r._updateFieldArray(s,[...F],A=>A,{},!0,!1)};return V.useEffect(()=>{if(r._state.action=!1,qe(s,r._names)&&r._subjects.state.next({...r._formState}),b.current&&(!ge(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([s]).then(_=>{const F=o(_.errors,s),A=o(r._formState.errors,s);(A?!F&&A.type||F&&(A.type!==F.type||A.message!==F.message):F&&F.type)&&(F?D(r._formState.errors,s,F):T(r._formState.errors,s),r._subjects.state.next({errors:r._formState.errors}))});else{const _=o(r._fields,s);_&&_._f&&!(ge(r._options.reValidateMode).isOnSubmit&&ge(r._options.mode).isOnSubmit)&&He(_,r._formValues,r._options.criteriaMode===G.all,r._options.shouldUseNativeValidation,!0).then(F=>!I(F)&&r._subjects.state.next({errors:Ar(r._formState.errors,F,s)}))}r._subjects.values.next({name:s,values:{...r._formValues}}),r._names.focus&&le(r._fields,(_,F)=>{if(r._names.focus&&F.startsWith(r._names.focus)&&_.focus)return _.focus(),1}),r._names.focus="",r._updateValid(),b.current=!1},[f,s,r]),V.useEffect(()=>(!o(r._formValues,s)&&r._updateFieldArray(s),()=>{(r._options.shouldUnregister||n)&&r.unregister(s)}),[s,r,u,n]),{swap:V.useCallback(Y,[w,s,r]),move:V.useCallback(p,[w,s,r]),prepend:V.useCallback(U,[w,s,r]),append:V.useCallback(H,[w,s,r]),remove:V.useCallback(oe,[w,s,r]),insert:V.useCallback(X,[w,s,r]),update:V.useCallback(z,[w,s,r]),replace:V.useCallback(J,[w,s,r]),fields:V.useMemo(()=>f.map((_,F)=>({..._,[u]:m.current[F]||te()})),[f,u])}}var Ie=()=>{let e=[];return{get observers(){return e},next:u=>{for(const n of e)n.next&&n.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(n=>n!==u)}}),unsubscribe:()=>{e=[]}}},Se=e=>j(e)||!dr(e);function ie(e,t){if(Se(e)||Se(t))return e===t;if(ue(e)&&ue(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const u of r){const n=e[u];if(!s.includes(u))return!1;if(u!=="ref"){const f=t[u];if(ue(n)&&ue(f)||N(n)&&N(f)||Array.isArray(n)&&Array.isArray(f)?!ie(n,f):n!==f)return!1}}return!0}var Sr=e=>e.type==="select-multiple",zr=e=>ze(e)||_e(e),je=e=>xe(e)&&e.isConnected,wr=e=>{for(const t in e)if(se(e[t]))return!0;return!1};function we(e,t={}){const r=Array.isArray(e);if(N(e)||r)for(const s in e)Array.isArray(e[s])||N(e[s])&&!wr(e[s])?(t[s]=Array.isArray(e[s])?[]:{},we(e[s],t[s])):j(e[s])||(t[s]=!0);return t}function Dr(e,t,r){const s=Array.isArray(e);if(N(e)||s)for(const u in e)Array.isArray(e[u])||N(e[u])&&!wr(e[u])?C(t)||Se(r[u])?r[u]=Array.isArray(e[u])?we(e[u],[]):{...we(e[u])}:Dr(e[u],j(t)?{}:t[u],r[u]):r[u]=!ie(e[u],t[u]);return r}var be=(e,t)=>Dr(e,t,we(t)),kr=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>C(e)?e:t?e===""?NaN:e&&+e:r&&ee(e)?new Date(e):s?s(e):e;function We(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Ge(t)?t.files:ze(t)?pr(e.refs).value:Sr(t)?[...t.selectedOptions].map(({value:r})=>r):_e(t)?xr(e.refs).value:kr(C(t.value)?e.ref.value:t.value,e)}var Jr=(e,t,r,s)=>{const u={};for(const n of e){const f=o(t,n);f&&D(u,n,f._f)}return{criteriaMode:r,names:[...e],fields:u,shouldUseNativeValidation:s}},ye=e=>C(e)?e:pe(e)?e.source:N(e)?pe(e.value)?e.value.source:e.value:e,Qr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function cr(e,t,r){const s=o(e,r);if(s||Ke(r))return{error:s,name:r};const u=r.split(".");for(;u.length;){const n=u.join("."),f=o(t,n),y=o(e,n);if(f&&!Array.isArray(f)&&r!==n)return{name:r};if(y&&y.type)return{name:n,error:y};u.pop()}return{name:r}}var Xr=(e,t,r,s,u)=>u.isOnAll?!1:!r&&u.isOnTouch?!(t||e):(r?s.isOnBlur:u.isOnBlur)?!e:(r?s.isOnChange:u.isOnChange)?e:!0,Yr=(e,t)=>!he(o(e,t)).length&&T(e,t);const Zr={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function et(e={}){let t={...Zr,...e},r={submitCount:0,isDirty:!1,isLoading:se(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},u=N(t.defaultValues)||N(t.values)?M(t.defaultValues||t.values)||{}:{},n=t.shouldUnregister?{}:M(u),f={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},m,S=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:Ie(),array:Ie(),state:Ie()},w=ge(t.mode),H=ge(t.reValidateMode),U=t.criteriaMode===G.all,oe=i=>a=>{clearTimeout(S),S=setTimeout(i,a)},X=async i=>{if(v.isValid||i){const a=t.resolver?I((await R()).errors):await B(s,!0);a!==r.isValid&&b.state.next({isValid:a})}},Y=(i,a)=>{(v.isValidating||v.validatingFields)&&((i||Array.from(y.mount)).forEach(l=>{l&&(a?D(r.validatingFields,l,a):T(r.validatingFields,l))}),b.state.next({validatingFields:r.validatingFields,isValidating:!I(r.validatingFields)}))},p=(i,a=[],l,g,d=!0,c=!0)=>{if(g&&l){if(f.action=!0,c&&Array.isArray(o(s,i))){const h=l(o(s,i),g.argA,g.argB);d&&D(s,i,h)}if(c&&Array.isArray(o(r.errors,i))){const h=l(o(r.errors,i),g.argA,g.argB);d&&D(r.errors,i,h),Yr(r.errors,i)}if(v.touchedFields&&c&&Array.isArray(o(r.touchedFields,i))){const h=l(o(r.touchedFields,i),g.argA,g.argB);d&&D(r.touchedFields,i,h)}v.dirtyFields&&(r.dirtyFields=be(u,n)),b.state.next({name:i,isDirty:x(i,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else D(n,i,a)},z=(i,a)=>{D(r.errors,i,a),b.state.next({errors:r.errors})},J=i=>{r.errors=i,b.state.next({errors:r.errors,isValid:!1})},_=(i,a,l,g)=>{const d=o(s,i);if(d){const c=o(n,i,C(l)?o(u,i):l);C(c)||g&&g.defaultChecked||a?D(n,i,a?c:We(d._f)):P(i,c),f.mount&&X()}},F=(i,a,l,g,d)=>{let c=!1,h=!1;const E={name:i},O=!!(o(s,i)&&o(s,i)._f&&o(s,i)._f.disabled);if(!l||g){v.isDirty&&(h=r.isDirty,r.isDirty=E.isDirty=x(),c=h!==E.isDirty);const q=O||ie(o(u,i),a);h=!!(!O&&o(r.dirtyFields,i)),q||O?T(r.dirtyFields,i):D(r.dirtyFields,i,!0),E.dirtyFields=r.dirtyFields,c=c||v.dirtyFields&&h!==!q}if(l){const q=o(r.touchedFields,i);q||(D(r.touchedFields,i,l),E.touchedFields=r.touchedFields,c=c||v.touchedFields&&q!==l)}return c&&d&&b.state.next(E),c?E:{}},A=(i,a,l,g)=>{const d=o(r.errors,i),c=v.isValid&&Z(a)&&r.isValid!==a;if(e.delayError&&l?(m=oe(()=>z(i,l)),m(e.delayError)):(clearTimeout(S),m=null,l?D(r.errors,i,l):T(r.errors,i)),(l?!ie(d,l):d)||!I(g)||c){const h={...g,...c&&Z(a)?{isValid:a}:{},errors:r.errors,name:i};r={...r,...h},b.state.next(h)}},R=async i=>{Y(i,!0);const a=await t.resolver(n,t.context,Jr(i||y.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return Y(i),a},$=async i=>{const{errors:a}=await R(i);if(i)for(const l of i){const g=o(a,l);g?D(r.errors,l,g):T(r.errors,l)}else r.errors=a;return a},B=async(i,a,l={valid:!0})=>{for(const g in i){const d=i[g];if(d){const{_f:c,...h}=d;if(c){const E=y.array.has(c.name);Y([g],!0);const O=await He(d,n,U,t.shouldUseNativeValidation&&!a,E);if(Y([g]),O[c.name]&&(l.valid=!1,a))break;!a&&(o(O,c.name)?E?Ar(r.errors,O,c.name):D(r.errors,c.name,O[c.name]):T(r.errors,c.name))}!I(h)&&await B(h,a,l)}}return l.valid},me=()=>{for(const i of y.unMount){const a=o(s,i);a&&(a._f.refs?a._f.refs.every(l=>!je(l)):!je(a._f.ref))&&ke(i)}y.unMount=new Set},x=(i,a)=>(i&&a&&D(n,i,a),!ie(Je(),u)),k=(i,a,l)=>Fr(i,y,{...f.mount?n:C(a)?u:ee(i)?{[i]:a}:a},l,a),L=i=>he(o(f.mount?n:u,i,e.shouldUnregister?o(u,i,[]):[])),P=(i,a,l={})=>{const g=o(s,i);let d=a;if(g){const c=g._f;c&&(!c.disabled&&D(n,i,kr(a,c)),d=xe(c.ref)&&j(a)?"":a,Sr(c.ref)?[...c.ref.options].forEach(h=>h.selected=d.includes(h.value)):c.refs?_e(c.ref)?c.refs.length>1?c.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(d)?!!d.find(E=>E===h.value):d===h.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(h=>h.checked=h.value===d):Ge(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||b.values.next({name:i,values:{...n}})))}(l.shouldDirty||l.shouldTouch)&&F(i,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&de(i)},Q=(i,a,l)=>{for(const g in a){const d=a[g],c=`${i}.${g}`,h=o(s,c);(y.array.has(i)||!Se(d)||h&&!h._f)&&!ue(d)?Q(c,d,l):P(c,d,l)}},K=(i,a,l={})=>{const g=o(s,i),d=y.array.has(i),c=M(a);D(n,i,c),d?(b.array.next({name:i,values:{...n}}),(v.isDirty||v.dirtyFields)&&l.shouldDirty&&b.state.next({name:i,dirtyFields:be(u,n),isDirty:x(i,c)})):g&&!g._f&&!j(c)?Q(i,c,l):P(i,c,l),qe(i,y)&&b.state.next({...r}),b.values.next({name:f.mount?i:void 0,values:{...n}})},ce=async i=>{f.mount=!0;const a=i.target;let l=a.name,g=!0;const d=o(s,l),c=()=>a.type?We(d._f):yr(i),h=E=>{g=Number.isNaN(E)||E===o(n,l,E)};if(d){let E,O;const q=c(),ae=i.type===Ae.BLUR||i.type===Ae.FOCUS_OUT,Ur=!Qr(d._f)&&!t.resolver&&!o(r.errors,l)&&!d._f.deps||Xr(ae,o(r.touchedFields,l),r.isSubmitted,H,w),Ce=qe(l,y,ae);D(n,l,q),ae?(d._f.onBlur&&d._f.onBlur(i),m&&m(0)):d._f.onChange&&d._f.onChange(i);const Re=F(l,q,ae,!1),Lr=!I(Re)||Ce;if(!ae&&b.values.next({name:l,type:i.type,values:{...n}}),Ur)return v.isValid&&X(),Lr&&b.state.next({name:l,...Ce?{}:Re});if(!ae&&Ce&&b.state.next({...r}),t.resolver){const{errors:sr}=await R([l]);if(h(q),g){const Mr=cr(r.errors,s,l),ir=cr(sr,s,Mr.name||l);E=ir.error,l=ir.name,O=I(sr)}}else Y([l],!0),E=(await He(d,n,U,t.shouldUseNativeValidation))[l],Y([l]),h(q),g&&(E?O=!1:v.isValid&&(O=await B(s,!0)));g&&(d._f.deps&&de(d._f.deps),A(l,O,E,Re))}},fe=(i,a)=>{if(o(r.errors,a)&&i.focus)return i.focus(),1},de=async(i,a={})=>{let l,g;const d=W(i);if(t.resolver){const c=await $(C(i)?i:d);l=I(c),g=i?!d.some(h=>o(c,h)):l}else i?(g=(await Promise.all(d.map(async c=>{const h=o(s,c);return await B(h&&h._f?{[c]:h}:h)}))).every(Boolean),!(!g&&!r.isValid)&&X()):g=l=await B(s);return b.state.next({...!ee(i)||v.isValid&&l!==r.isValid?{}:{name:i},...t.resolver||!i?{isValid:l}:{},errors:r.errors}),a.shouldFocus&&!g&&le(s,fe,i?d:y.mount),g},Je=i=>{const a={...f.mount?n:u};return C(i)?a:ee(i)?o(a,i):i.map(l=>o(a,l))},Qe=(i,a)=>({invalid:!!o((a||r).errors,i),isDirty:!!o((a||r).dirtyFields,i),error:o((a||r).errors,i),isValidating:!!o(r.validatingFields,i),isTouched:!!o((a||r).touchedFields,i)}),Cr=i=>{i&&W(i).forEach(a=>T(r.errors,a)),b.state.next({errors:i?r.errors:{}})},Xe=(i,a,l)=>{const g=(o(s,i,{_f:{}})._f||{}).ref,d=o(r.errors,i)||{},{ref:c,message:h,type:E,...O}=d;D(r.errors,i,{...O,...a,ref:g}),b.state.next({name:i,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},Rr=(i,a)=>se(i)?b.values.subscribe({next:l=>i(k(void 0,a),l)}):k(i,a,!0),ke=(i,a={})=>{for(const l of i?W(i):y.mount)y.mount.delete(l),y.array.delete(l),a.keepValue||(T(s,l),T(n,l)),!a.keepError&&T(r.errors,l),!a.keepDirty&&T(r.dirtyFields,l),!a.keepTouched&&T(r.touchedFields,l),!a.keepIsValidating&&T(r.validatingFields,l),!t.shouldUnregister&&!a.keepDefaultValue&&T(u,l);b.values.next({values:{...n}}),b.state.next({...r,...a.keepDirty?{isDirty:x()}:{}}),!a.keepIsValid&&X()},Ye=({disabled:i,name:a,field:l,fields:g,value:d})=>{if(Z(i)&&f.mount||i){const c=i?void 0:C(d)?We(l?l._f:o(g,a)._f):d;D(n,a,c),F(a,c,!1,!1,!0)}},Ee=(i,a={})=>{let l=o(s,i);const g=Z(a.disabled);return D(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...a}}),y.mount.add(i),l?Ye({field:l,disabled:a.disabled,name:i,value:a.value}):_(i,!0,a.value),{...g?{disabled:a.disabled}:{},...t.progressive?{required:!!a.required,min:ye(a.min),max:ye(a.max),minLength:ye(a.minLength),maxLength:ye(a.maxLength),pattern:ye(a.pattern)}:{},name:i,onChange:ce,onBlur:ce,ref:d=>{if(d){Ee(i,a),l=o(s,i);const c=C(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,h=zr(c),E=l._f.refs||[];if(h?E.find(O=>O===c):c===l._f.ref)return;D(s,i,{_f:{...l._f,...h?{refs:[...E.filter(je),c,...Array.isArray(o(u,i))?[{}]:[]],ref:{type:c.type,name:i}}:{ref:c}}}),_(i,!1,void 0,c)}else l=o(s,i,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(gr(y.array,i)&&f.action)&&y.unMount.add(i)}}},Ze=()=>t.shouldFocusError&&le(s,fe,y.mount),Or=i=>{Z(i)&&(b.state.next({disabled:i}),le(s,(a,l)=>{const g=o(s,l);g&&(a.disabled=g._f.disabled||i,Array.isArray(g._f.refs)&&g._f.refs.forEach(d=>{d.disabled=g._f.disabled||i}))},0,!1))},er=(i,a)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=M(n);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:c,values:h}=await R();r.errors=c,d=h}else await B(s);if(T(r.errors,"root"),I(r.errors)){b.state.next({errors:{}});try{await i(d,l)}catch(c){g=c}}else a&&await a({...r.errors},l),Ze(),setTimeout(Ze);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:I(r.errors)&&!g,submitCount:r.submitCount+1,errors:r.errors}),g)throw g},Tr=(i,a={})=>{o(s,i)&&(C(a.defaultValue)?K(i,M(o(u,i))):(K(i,a.defaultValue),D(u,i,M(a.defaultValue))),a.keepTouched||T(r.touchedFields,i),a.keepDirty||(T(r.dirtyFields,i),r.isDirty=a.defaultValue?x(i,M(o(u,i))):x()),a.keepError||(T(r.errors,i),v.isValid&&X()),b.state.next({...r}))},rr=(i,a={})=>{const l=i?M(i):u,g=M(l),d=I(i),c=d?u:g;if(a.keepDefaultValues||(u=l),!a.keepValues){if(a.keepDirtyValues)for(const h of y.mount)o(r.dirtyFields,h)?D(c,h,o(n,h)):K(h,o(c,h));else{if($e&&C(i))for(const h of y.mount){const E=o(s,h);if(E&&E._f){const O=Array.isArray(E._f.refs)?E._f.refs[0]:E._f.ref;if(xe(O)){const q=O.closest("form");if(q){q.reset();break}}}}s={}}n=e.shouldUnregister?a.keepDefaultValues?M(u):{}:M(c),b.array.next({values:{...c}}),b.values.next({values:{...c}})}y={mount:a.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!v.isValid||!!a.keepIsValid||!!a.keepDirtyValues,f.watch=!!e.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:d?!1:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!ie(i,u)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:d?{}:a.keepDirtyValues?a.keepDefaultValues&&n?be(u,n):r.dirtyFields:a.keepDefaultValues&&i?be(u,i):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},tr=(i,a)=>rr(se(i)?i(n):i,a);return{control:{register:Ee,unregister:ke,getFieldState:Qe,handleSubmit:er,setError:Xe,_executeSchema:R,_getWatch:k,_getDirty:x,_updateValid:X,_removeUnmounted:me,_updateFieldArray:p,_updateDisabledField:Ye,_getFieldArray:L,_reset:rr,_resetDefaultValues:()=>se(t.defaultValues)&&t.defaultValues().then(i=>{tr(i,t.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:i=>{r={...r,...i}},_disableForm:Or,_subjects:b,_proxyFormState:v,_setErrors:J,get _fields(){return s},get _formValues(){return n},get _state(){return f},set _state(i){f=i},get _defaultValues(){return u},get _names(){return y},set _names(i){y=i},get _formState(){return r},set _formState(i){r=i},get _options(){return t},set _options(i){t={...t,...i}}},trigger:de,register:Ee,handleSubmit:er,watch:Rr,setValue:K,getValues:Je,reset:tr,resetField:Tr,clearErrors:Cr,unregister:ke,setError:Xe,setFocus:(i,a={})=>{const l=o(s,i),g=l&&l._f;if(g){const d=g.refs?g.refs[0]:g.ref;d.focus&&(d.focus(),a.shouldSelect&&d.select())}},getFieldState:Qe}}function ot(e={}){const t=V.useRef(),r=V.useRef(),[s,u]=V.useState({isDirty:!1,isValidating:!1,isLoading:se(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:se(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...et(e),formState:s});const n=t.current.control;return n._options=e,De({subject:n._subjects.state,next:f=>{mr(f,n._proxyFormState,n._updateFormState,!0)&&u({...n._formState})}}),V.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),V.useEffect(()=>{if(n._proxyFormState.isDirty){const f=n._getDirty();f!==s.isDirty&&n._subjects.state.next({isDirty:f})}},[n,s.isDirty]),V.useEffect(()=>{e.values&&!ie(e.values,r.current)?(n._reset(e.values,n._options.resetOptions),r.current=e.values,u(f=>({...f}))):n._resetDefaultValues()},[e.values,n]),V.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),V.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),V.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),t.current.formState=vr(s,n),t.current}const fr=(e,t,r)=>{if(e&&"reportValidity"in e){const s=o(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Er=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?fr(s.ref,r,e):s.refs&&s.refs.forEach(u=>fr(u,r,e))}},rt=(e,t)=>{t.shouldUseNativeValidation&&Er(e,t);const r={};for(const s in e){const u=o(t.fields,s),n=Object.assign(e[s]||{},{ref:u&&u.ref});if(tt(t.names||Object.keys(e),s)){const f=Object.assign({},o(r,s));D(f,"root",n),D(r,s,f)}else D(r,s,n)}return r},tt=(e,t)=>e.some(r=>r.startsWith(t+"."));function ct(e,t,r){return t===void 0&&(t={}),r===void 0&&(r={}),function(s,u,n){try{return Promise.resolve(function(f,y){try{var m=(t.context,Promise.resolve(e[r.mode==="sync"?"validateSync":"validate"](s,Object.assign({abortEarly:!1},t,{context:u}))).then(function(S){return n.shouldUseNativeValidation&&Er({},n),{values:r.raw?s:S,errors:{}}}))}catch(S){return y(S)}return m&&m.then?m.then(void 0,y):m}(0,function(f){if(!f.inner)throw f;return{values:{},errors:rt((y=f,m=!n.shouldUseNativeValidation&&n.criteriaMode==="all",(y.inner||[]).reduce(function(S,v){if(S[v.path]||(S[v.path]={message:v.message,type:v.type}),m){var b=S[v.path].types,w=b&&b[v.type];S[v.path]=Vr(v.path,m,S,v.type,w?[].concat(w,v.message):v.message)}return S},{})),n)};var y,m}))}catch(f){return Promise.reject(f)}}}function ft({children:e,onSubmit:t,methods:r}){return Ve.jsx(Ir,{...r,children:Ve.jsx("form",{onSubmit:t,children:e})})}function dt({name:e,helperText:t,type:r,...s}){const{control:u}=ve();return Ve.jsx(Hr,{name:e,control:u,render:({field:n,fieldState:{error:f}})=>Ve.jsx(Nr,{...n,fullWidth:!0,type:r,value:r==="number"&&n.value===0?"":n.value,onChange:y=>{r==="number"?n.onChange(Number(y.target.value)):n.onChange(y.target.value)},error:!!f,helperText:f?f==null?void 0:f.message:t,...s})})}export{Hr as C,ft as F,dt as R,ve as a,lt as b,ct as o,ot as u};
