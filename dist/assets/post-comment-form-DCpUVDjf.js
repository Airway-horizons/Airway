import{c as F,j as e,F as w,S as x,T as h,J as I,f,B as P,e as u,d as p}from"./index-DQumLT9L.js";import{L as y}from"./ListItem-CasPjPth.js";import{T}from"./TextField-Y2PbW22P.js";import{P as B}from"./Pagination-DZ57WmWJ.js";import{c as C,a as j}from"./mui-one-time-password-input.es-CrCnoD2A.js";import{u as S,F as q,R as A,o as L}from"./rhf-text-field-D4JfNq3U.js";import"./image-BQLAgES7.js";import"./highlight-DjC4x1cy.js";import"./styles-CbjE8cRF.js";import{L as U}from"./LoadingButton-By3CRbWh.js";function g({name:r,avatarUrl:n,message:o,tagUser:t,postedAt:m,hasReply:i}){const s=F();return e.jsxs(y,{sx:{p:0,pt:3,alignItems:"flex-start",...i&&{pl:8}},children:[e.jsx(w,{alt:r,src:n,sx:{mr:2,width:48,height:48}}),e.jsxs(x,{flexGrow:1,sx:{pb:3,borderBottom:l=>`solid 1px ${l.palette.divider}`},children:[e.jsx(h,{variant:"subtitle2",sx:{mb:.5},children:r}),e.jsx(h,{variant:"caption",sx:{color:"text.disabled"},children:I(m)}),e.jsxs(h,{variant:"body2",sx:{mt:1},children:[t&&e.jsxs(f,{component:"strong",sx:{mr:.5},children:["@",t]}),o]}),s.value&&e.jsx(f,{sx:{mt:2},children:e.jsx(T,{fullWidth:!0,autoFocus:!0,placeholder:"Write comment..."})})]}),!i&&e.jsx(P,{size:"small",color:s.value?"primary":"inherit",startIcon:e.jsx(u,{icon:"solar:pen-bold",width:16}),onClick:s.onToggle,sx:{right:0,position:"absolute"},children:"Reply"})]})}function N({comments:r}){return e.jsxs(e.Fragment,{children:[e.jsx(e.Fragment,{children:r.map(n=>{const{id:o,replyComment:t,name:m,users:i,message:s,avatarUrl:l,postedAt:c}=n,v=!!t.length;return e.jsxs(f,{children:[e.jsx(g,{name:m,message:s,postedAt:c,avatarUrl:l}),v&&t.map(d=>{const a=i.find(b=>b.id===d.userId);return e.jsx(g,{name:(a==null?void 0:a.name)||"",message:d.message,postedAt:d.postedAt,avatarUrl:(a==null?void 0:a.avatarUrl)||"",tagUser:d.tagUser,hasReply:!0},d.id)})]},o)})}),e.jsx(B,{count:8,sx:{my:5,mx:"auto"}})]})}function V(){const r=C().shape({comment:j().required("Comment is required"),name:j().required("Name is required"),email:j().required("Email is required").email("Email must be a valid email address")}),n={comment:"",name:"",email:""},o=S({resolver:L(r),defaultValues:n}),{reset:t,handleSubmit:m,formState:{isSubmitting:i}}=o,s=m(async l=>{try{await new Promise(c=>setTimeout(c,500)),t(),console.info("DATA",l)}catch(c){console.error(c)}});return e.jsx(q,{methods:o,onSubmit:s,children:e.jsxs(x,{spacing:3,children:[e.jsx(A,{name:"comment",placeholder:"Write some of your comments...",multiline:!0,rows:4}),e.jsxs(x,{direction:"row",alignItems:"center",children:[e.jsxs(x,{direction:"row",alignItems:"center",flexGrow:1,children:[e.jsx(p,{children:e.jsx(u,{icon:"solar:gallery-add-bold"})}),e.jsx(p,{children:e.jsx(u,{icon:"eva:attach-2-fill"})}),e.jsx(p,{children:e.jsx(u,{icon:"eva:smiling-face-fill"})})]}),e.jsx(U,{type:"submit",variant:"contained",loading:i,children:"Post comment"})]})]})})}export{V as P,N as a};
