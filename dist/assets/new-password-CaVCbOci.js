import{a as v,r as F,u as A,c as I,p as N,j as s,S as n,T as i,I as d,d as c,e as l,H as C}from"./index-9PXStj3N.js";import{c as T,a as m,b as q}from"./mui-one-time-password-input.es-bso2ZfVA.js";import"./image-DkY_3MJo.js";import"./highlight-LvrKAosx.js";import"./styles-CVRUAcvd.js";import{N as H}from"./new-password-icon-DPv__P3Q.js";import{u as R,F as k,o as B,R as p}from"./rhf-text-field-BWFvqQHB.js";import{A as E}from"./Alert-BJp3Tzqk.js";import{L as $}from"./LoadingButton-iXxcTN9H.js";import"./TextField-CbHhpLIE.js";import"./FormControl-BNnV7ofI.js";import"./FormLabel-CU7-epWv.js";import"./Select-De9_G4gT.js";import"./Menu-CNl6fHH1.js";import"./Close-DY-CD3mo.js";import"./CircularProgress-CGlsyqdu.js";function L(){const u=v(),[t,x]=F.useState(""),{updatePassword:o}=A(),e=I(),h=T().shape({password:m().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:m().required("Confirm password is required").oneOf([q("password")],"Passwords must match")}),w={password:"",confirmPassword:""},a=R({mode:"onChange",resolver:B(h),defaultValues:w}),{reset:g,handleSubmit:j,formState:{isSubmitting:f}}=a,b=j(async S=>{try{await(o==null?void 0:o(S.password)),u.push(N.dashboard.root)}catch(r){console.error(r),g(),x(typeof r=="string"?r:r.message)}}),P=s.jsxs(s.Fragment,{children:[s.jsx(H,{sx:{height:96}}),s.jsxs(n,{spacing:1,sx:{mt:3,mb:5},children:[s.jsx(i,{variant:"h3",children:"New Password"}),s.jsx(i,{variant:"body2",sx:{color:"text.secondary"},children:"Successful updates enable access using the new password"})]})]}),y=s.jsxs(n,{spacing:3,children:[s.jsx(p,{name:"password",label:"Confirm Password",type:e.value?"text":"password",InputProps:{endAdornment:s.jsx(d,{position:"end",children:s.jsx(c,{onClick:e.onToggle,edge:"end",children:s.jsx(l,{icon:e.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),s.jsx(p,{name:"confirmPassword",label:"Password",type:e.value?"text":"password",InputProps:{endAdornment:s.jsx(d,{position:"end",children:s.jsx(c,{onClick:e.onToggle,edge:"end",children:s.jsx(l,{icon:e.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),s.jsx($,{fullWidth:!0,type:"submit",size:"large",variant:"contained",loading:f,children:"Update Password"})]});return s.jsxs(s.Fragment,{children:[P,!!t&&s.jsx(E,{severity:"error",sx:{textAlign:"left",mb:3},children:t}),s.jsx(k,{methods:a,onSubmit:b,children:y})]})}function es(){return s.jsxs(s.Fragment,{children:[s.jsx(C,{children:s.jsx("title",{children:" Supabase: New Password"})}),s.jsx(L,{})]})}export{es as default};
