import{n as ne,dA as H,r as p,c as w,h as K,t as B,j as e,cV as pe,cX as U,S as k,dB as _,T as z,i as he,J as xe,dn as me,c$ as te,F as se,e as d,d as O,l as q,M as E,D as V,B as F,f as S,bs as Y,I as ue,cn as ge,es as je,k as Ce,A as ae,et as be,bg as Q,bt as fe,eu as ve,bu as ye,ev as we,v as ke,dE as Te,bz as De,H as Fe}from"./index-9PXStj3N.js";import{E as Se}from"./empty-content-DAIjjgZ6.js";import{C as J}from"./confirm-dialog-C_PCrWg2.js";import{T as Re,a as Ie,u as Pe,g as Ae}from"./table-pagination-custom-D5m7okT2.js";import{T as Le}from"./table-no-data-BQ4kgqVc.js";import{T as Ee}from"./table-head-custom-CtFyBfMp.js";import{u as Be}from"./use-double-click-Cn4c-lUC.js";import{u as re}from"./use-copy-to-clipboard-CMhvBy3i.js";import{d as le}from"./format-number-DdI7Nsn7.js";import{F as ie,a as X,b as Z,c as Me,d as G}from"./file-manager-folder-item-zWuX4G9z.js";import{T as ze,a as Oe,b as $e,c as Ne}from"./TableHead-D_zytHHe.js";import{T as L}from"./TableCell-C9fDz-S-.js";import{C as M}from"./Checkbox-CM-8Bpaf.js";import{A as ce}from"./AvatarGroup-CZijIr7e.js";import{t as We}from"./TablePagination-CnPGfMYI.js";import{s as de}from"./utils-B_LYZQXB.js";import{C as Ue}from"./custom-date-range-picker-BnK97-7t.js";import{T as Ge}from"./TextField-CbHhpLIE.js";import{T as He}from"./text-max-line-DfzQxDMh.js";import{C as N}from"./Chip-DxwugM88.js";import{T as Ke,a as ee}from"./ToggleButtonGroup-C8eU3AyJ.js";import"./DialogTitle-BVoaAIUo.js";import"./dialogTitleClasses-BDGSYXIO.js";import"./DialogContent-CF8M1ZCn.js";import"./DialogActions-DXuw6_5D.js";import"./FormControlLabel-BXyUhOdn.js";import"./Switch-BEAoBhNK.js";import"./SwitchBase-i39qGljK.js";import"./ListItem-Bnl0Gvye.js";import"./ListItemSecondaryAction-CutXm0zI.js";import"./Autocomplete-BaJmFtAK.js";import"./Select-De9_G4gT.js";import"./Menu-CNl6fHH1.js";import"./Close-DY-CD3mo.js";import"./upload-Bwa4zDJe.js";import"./preview-multi-file-g2wFAGxZ.js";import"./index-BfYlpBiz.js";import"./tslib.es6-D0YySzq7.js";import"./fade-o6mfZnVH.js";import"./transition-BJzcwH5q.js";import"./index-Ds_76aSW.js";import"./image-DkY_3MJo.js";import"./FirstPage-g7XaU7CH.js";import"./DatePicker-CzWAb71k.js";import"./FormControl-BNnV7ofI.js";import"./FormLabel-CU7-epWv.js";function _e({row:o,selected:n,onSelectRow:u,onDeleteRow:t}){const a=ne(),{name:g,size:C,type:l,modifiedAt:b,shared:i,isFavorited:r}=o,{enqueueSnackbar:j}=H(),{copy:v}=re(),[h,f]=p.useState(""),m=w(r),y=w(),c=w(),x=w(),s=K(),I=p.useCallback(D=>{f(D.target.value)},[]),R=Be({click:()=>{y.onTrue()},doubleClick:()=>console.info("DOUBLE CLICK")}),P=p.useCallback(()=>{j("Copied!"),v(o.url)},[v,j,o.url]),T={borderTop:`solid 1px ${B(a.palette.grey[500],.16)}`,borderBottom:`solid 1px ${B(a.palette.grey[500],.16)}`,"&:first-of-type":{borderTopLeftRadius:16,borderBottomLeftRadius:16,borderLeft:`solid 1px ${B(a.palette.grey[500],.16)}`},"&:last-of-type":{borderTopRightRadius:16,borderBottomRightRadius:16,borderRight:`solid 1px ${B(a.palette.grey[500],.16)}`}};return e.jsxs(e.Fragment,{children:[e.jsxs(ze,{selected:n,sx:{borderRadius:2,[`&.${pe.selected}, &:hover`]:{backgroundColor:"background.paper",boxShadow:a.customShadows.z20,transition:a.transitions.create(["background-color","box-shadow"],{duration:a.transitions.duration.shortest}),"&:hover":{backgroundColor:"background.paper",boxShadow:a.customShadows.z20}},[`& .${U.root}`]:{...T},...y.value&&{[`& .${U.root}`]:{...T}}},children:[e.jsx(L,{padding:"checkbox",children:e.jsx(M,{checked:n,onDoubleClick:()=>console.info("ON DOUBLE CLICK"),onClick:u})}),e.jsx(L,{onClick:R,children:e.jsxs(k,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(_,{file:l,sx:{width:36,height:36}}),e.jsx(z,{noWrap:!0,variant:"inherit",sx:{maxWidth:360,cursor:"pointer",...y.value&&{fontWeight:"fontWeightBold"}},children:g})]})}),e.jsx(L,{onClick:R,sx:{whiteSpace:"nowrap"},children:le(C)}),e.jsx(L,{onClick:R,sx:{whiteSpace:"nowrap"},children:l}),e.jsx(L,{onClick:R,sx:{whiteSpace:"nowrap"},children:e.jsx(he,{primary:xe(b),secondary:me(b),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),e.jsx(L,{align:"right",onClick:R,children:e.jsx(ce,{max:4,sx:{display:"inline-flex",[`& .${te.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:i&&i.map(D=>e.jsx(se,{alt:D.name,src:D.avatarUrl},D.id))})}),e.jsxs(L,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[e.jsx(M,{color:"warning",icon:e.jsx(d,{icon:"eva:star-outline"}),checkedIcon:e.jsx(d,{icon:"eva:star-fill"}),checked:m.value,onChange:m.onToggle,sx:{p:.75}}),e.jsx(O,{color:s.open?"inherit":"default",onClick:s.onOpen,children:e.jsx(d,{icon:"eva:more-vertical-fill"})})]})]}),e.jsxs(q,{open:s.open,onClose:s.onClose,arrow:"right-top",sx:{width:160},children:[e.jsxs(E,{onClick:()=>{s.onClose(),P()},children:[e.jsx(d,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(E,{onClick:()=>{s.onClose(),c.onTrue()},children:[e.jsx(d,{icon:"solar:share-bold"}),"Share"]}),e.jsx(V,{sx:{borderStyle:"dashed"}}),e.jsxs(E,{onClick:()=>{x.onTrue(),s.onClose()},sx:{color:"error.main"},children:[e.jsx(d,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(ie,{item:o,favorited:m.value,onFavorite:m.onToggle,onCopyLink:P,open:y.value,onClose:y.onFalse,onDelete:t}),e.jsx(X,{open:c.value,shared:i,inviteEmail:h,onChangeInvite:I,onCopyLink:P,onClose:()=>{c.onFalse(),f("")}}),e.jsx(J,{open:x.value,onClose:x.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(F,{variant:"contained",color:"error",onClick:t,children:"Delete"})})]})}const qe=[{id:"name",label:"Name"},{id:"size",label:"Size",width:120},{id:"type",label:"Type",width:120},{id:"modifiedAt",label:"Modified",width:140},{id:"shared",label:"Shared",align:"right",width:140},{id:"",width:88}];function Ve({table:o,notFound:n,onDeleteRow:u,dataFiltered:t,onOpenConfirm:a}){const g=ne(),{dense:C,page:l,order:b,orderBy:i,rowsPerPage:r,selected:j,onSelectRow:v,onSelectAllRows:h,onSort:f,onChangeDense:m,onChangePage:y,onChangeRowsPerPage:c}=o;return e.jsxs(e.Fragment,{children:[e.jsxs(S,{sx:{position:"relative",m:g.spacing(-2,-3,-3,-3)},children:[e.jsx(Re,{dense:C,numSelected:j.length,rowCount:t.length,onSelectAllRows:x=>h(x,t.map(s=>s.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Share",children:e.jsx(O,{color:"primary",children:e.jsx(d,{icon:"solar:share-bold"})})}),e.jsx(Y,{title:"Delete",children:e.jsx(O,{color:"primary",onClick:a,children:e.jsx(d,{icon:"solar:trash-bin-trash-bold"})})})]}),sx:{pl:1,pr:2,top:16,left:24,right:24,width:"auto",borderRadius:1.5}}),e.jsx(Oe,{sx:{p:g.spacing(0,3,3,3)},children:e.jsxs($e,{size:C?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[e.jsx(Ee,{order:b,orderBy:i,headLabel:qe,rowCount:t.length,numSelected:j.length,onSort:f,onSelectAllRows:x=>h(x,t.map(s=>s.id)),sx:{[`& .${U.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),e.jsxs(Ne,{children:[t.slice(l*r,l*r+r).map(x=>e.jsx(_e,{row:x,selected:j.includes(x.id),onSelectRow:()=>v(x.id),onDeleteRow:()=>u(x.id)},x.id)),e.jsx(Le,{notFound:n,sx:{m:-2,borderRadius:1.5,border:`dashed 1px ${g.palette.divider}`}})]})]})})]}),e.jsx(Ie,{count:t.length,page:l,rowsPerPage:r,onPageChange:y,onRowsPerPageChange:c,dense:C,onChangeDense:m,sx:{[`& .${We.toolbar}`]:{borderTopColor:"transparent"}}})]})}function Je({openDateRange:o,onCloseDateRange:n,onOpenDateRange:u,filters:t,onFilters:a,dateError:g,typeOptions:C}){const l=K(),b=t.type.length?t.type.slice(0,2).join(","):"All type",i=p.useCallback(c=>{a("name",c.target.value)},[a]),r=p.useCallback(c=>{a("startDate",c)},[a]),j=p.useCallback(c=>{a("endDate",c)},[a]),v=p.useCallback(c=>{const x=t.type.includes(c)?t.type.filter(s=>s!==c):[...t.type,c];a("type",x)},[t.type,a]),h=p.useCallback(()=>{l.onClose(),a("type",[])},[a,l]),f=e.jsx(Ge,{value:t.name,onChange:i,placeholder:"Search...",InputProps:{startAdornment:e.jsx(ue,{position:"start",children:e.jsx(d,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{width:{xs:1,md:260}}}),m=e.jsxs(e.Fragment,{children:[e.jsxs(F,{color:"inherit",onClick:l.onOpen,endIcon:e.jsx(d,{icon:l.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:[b,t.type.length>2&&e.jsxs(ge,{color:"info",sx:{ml:1},children:["+",t.type.length-2]})]}),e.jsx(q,{open:l.open,onClose:l.onClose,sx:{p:2.5},children:e.jsxs(k,{spacing:2.5,children:[e.jsx(S,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"},children:C.map(c=>{const x=t.type.includes(c);return e.jsx(je,{onClick:()=>v(c),sx:{p:1,borderRadius:1,cursor:"pointer",border:s=>`solid 1px ${B(s.palette.grey[500],.08)}`,...x&&{bgcolor:"action.selected"}},children:e.jsxs(k,{spacing:1,direction:"row",alignItems:"center",children:[e.jsx(_,{file:c}),e.jsx(z,{variant:x?"subtitle2":"body2",children:c})]})},c)})}),e.jsxs(k,{spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[e.jsx(F,{variant:"outlined",color:"inherit",onClick:h,children:"Clear"}),e.jsx(F,{variant:"contained",onClick:l.onClose,children:"Apply"})]})]})})]}),y=e.jsxs(e.Fragment,{children:[e.jsx(F,{color:"inherit",onClick:u,endIcon:e.jsx(d,{icon:o?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:t.startDate&&t.endDate?de(t.startDate,t.endDate):"Select Date"}),e.jsx(Ue,{variant:"calendar",startDate:t.startDate,endDate:t.endDate,onChangeStartDate:r,onChangeEndDate:j,open:o,onClose:n,selected:!!t.startDate&&!!t.endDate,error:g})]});return e.jsxs(k,{spacing:1,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},sx:{width:1},children:[f,e.jsxs(k,{spacing:1,direction:"row",alignItems:"center",justifyContent:"flex-end",flexGrow:1,children:[y,m]})]})}function Xe({file:o,selected:n,onSelect:u,onDelete:t,sx:a,...g}){var P;const{enqueueSnackbar:C}=H(),{copy:l}=re(),[b,i]=p.useState(""),r=w(),j=w(),v=w(),h=w(),f=w(o.isFavorited),m=K(),y=p.useCallback(T=>{i(T.target.value)},[]),c=p.useCallback(()=>{C("Copied!"),l(o.url)},[l,C,o.url]),x=(r.value||n)&&u?e.jsx(M,{size:"medium",checked:n,onClick:u,icon:e.jsx(d,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(d,{icon:"eva:checkmark-circle-2-fill"}),sx:{p:.75}}):e.jsx(_,{file:o.type,sx:{width:36,height:36}}),s=e.jsxs(k,{direction:"row",alignItems:"center",sx:{top:8,right:8,position:"absolute"},children:[e.jsx(M,{color:"warning",icon:e.jsx(d,{icon:"eva:star-outline"}),checkedIcon:e.jsx(d,{icon:"eva:star-fill"}),checked:f.value,onChange:f.onToggle}),e.jsx(O,{color:m.open?"inherit":"default",onClick:m.onOpen,children:e.jsx(d,{icon:"eva:more-vertical-fill"})})]}),I=e.jsxs(e.Fragment,{children:[e.jsx(He,{persistent:!0,variant:"subtitle2",onClick:h.onTrue,sx:{width:1,mt:2,mb:.5},children:o.name}),e.jsxs(k,{direction:"row",alignItems:"center",sx:{maxWidth:.99,whiteSpace:"nowrap",typography:"caption",color:"text.disabled"},children:[le(o.size),e.jsx(S,{component:"span",sx:{mx:.75,width:2,height:2,flexShrink:0,borderRadius:"50%",bgcolor:"currentColor"}}),e.jsx(z,{noWrap:!0,component:"span",variant:"caption",children:Ce(o.modifiedAt)})]})]}),R=e.jsx(ce,{max:3,sx:{mt:1,[`& .${te.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:(P=o.shared)==null?void 0:P.map(T=>e.jsx(se,{alt:T.name,src:T.avatarUrl},T.id))});return e.jsxs(e.Fragment,{children:[e.jsxs(k,{component:ae,variant:"outlined",alignItems:"flex-start",sx:{p:2.5,borderRadius:2,bgcolor:"unset",cursor:"pointer",position:"relative",...(r.value||n)&&{bgcolor:"background.paper",boxShadow:T=>T.customShadows.z20},...a},...g,children:[e.jsx(S,{onMouseEnter:r.onTrue,onMouseLeave:r.onFalse,children:x}),I,R,s]}),e.jsxs(q,{open:m.open,onClose:m.onClose,arrow:"right-top",sx:{width:160},children:[e.jsxs(E,{onClick:()=>{m.onClose(),c()},children:[e.jsx(d,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(E,{onClick:()=>{m.onClose(),j.onTrue()},children:[e.jsx(d,{icon:"solar:share-bold"}),"Share"]}),e.jsx(V,{sx:{borderStyle:"dashed"}}),e.jsxs(E,{onClick:()=>{v.onTrue(),m.onClose()},sx:{color:"error.main"},children:[e.jsx(d,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(ie,{item:o,favorited:f.value,onFavorite:f.onToggle,onCopyLink:c,open:h.value,onClose:h.onFalse,onDelete:()=>{h.onFalse(),t()}}),e.jsx(X,{open:j.value,shared:o.shared,inviteEmail:b,onChangeInvite:y,onCopyLink:c,onClose:()=>{j.onFalse(),i("")}}),e.jsx(J,{open:v.value,onClose:v.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(F,{variant:"contained",color:"error",onClick:t,children:"Delete"})})]})}function Ye({action:o,selected:n,rowCount:u,numSelected:t,onSelectAllItems:a,sx:g,...C}){return e.jsx(be,{children:e.jsxs(S,{sx:{right:0,zIndex:9,bottom:0,display:"flex",borderRadius:1.5,position:"fixed",alignItems:"center",bgcolor:"text.primary",p:l=>l.spacing(1.5,2,1.5,1),boxShadow:l=>l.customShadows.z20,m:{xs:2,md:3},...g},...C,children:[e.jsx(M,{indeterminate:!!t&&t<u,checked:!!u&&t===u,onChange:l=>a(l.target.checked),icon:e.jsx(d,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(d,{icon:"eva:checkmark-circle-2-fill"}),indeterminateIcon:e.jsx(d,{icon:"eva:minus-circle-fill"})}),n&&e.jsxs(z,{variant:"subtitle2",sx:{mr:2,color:l=>l.palette.mode==="light"?"common.white":"grey.800"},children:[n.length," Items selected"]}),o&&o]})})}function Qe({table:o,dataFiltered:n,onDeleteItem:u,onOpenConfirm:t}){const{selected:a,onSelectRow:g,onSelectAllRows:C}=o,l=p.useRef(null),[b,i]=p.useState(""),[r,j]=p.useState(""),v=w(),h=w(),f=w(),m=w(),y=w(),c=p.useCallback(s=>{j(s.target.value)},[]),x=p.useCallback(s=>{i(s.target.value)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(S,{ref:l,children:[e.jsx(Z,{title:"Folders",subTitle:`${n.filter(s=>s.type==="folder").length} folders`,onOpen:h.onTrue,collapse:y.value,onCollapse:y.onToggle}),e.jsx(Q,{in:!y.value,unmountOnExit:!0,children:e.jsx(S,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},children:n.filter(s=>s.type==="folder").map(s=>e.jsx(Me,{folder:s,selected:a.includes(s.id),onSelect:()=>g(s.id),onDelete:()=>u(s.id),sx:{maxWidth:"auto"}},s.id))})}),e.jsx(V,{sx:{my:5,borderStyle:"dashed"}}),e.jsx(Z,{title:"Files",subTitle:`${n.filter(s=>s.type!=="folder").length} files`,onOpen:f.onTrue,collapse:m.value,onCollapse:m.onToggle}),e.jsx(Q,{in:!m.value,unmountOnExit:!0,children:e.jsx(S,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:3,children:n.filter(s=>s.type!=="folder").map(s=>e.jsx(Xe,{file:s,selected:a.includes(s.id),onSelect:()=>g(s.id),onDelete:()=>u(s.id),sx:{maxWidth:"auto"}},s.id))})}),!!(a!=null&&a.length)&&e.jsx(Ye,{numSelected:a.length,rowCount:n.length,selected:a,onSelectAllItems:s=>C(s,n.map(I=>I.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(F,{size:"small",color:"error",variant:"contained",startIcon:e.jsx(d,{icon:"solar:trash-bin-trash-bold"}),onClick:t,sx:{mr:1},children:"Delete"}),e.jsx(F,{color:"primary",size:"small",variant:"contained",startIcon:e.jsx(d,{icon:"solar:share-bold"}),onClick:v.onTrue,children:"Share"})]})})]}),e.jsx(X,{open:v.value,inviteEmail:r,onChangeInvite:c,onClose:()=>{v.onFalse(),j("")}}),e.jsx(G,{open:f.value,onClose:f.onFalse}),e.jsx(G,{open:h.value,onClose:h.onFalse,title:"New Folder",onCreate:()=>{h.onFalse(),i(""),console.info("CREATE NEW FOLDER",b)},folderName:b,onChangeFolderName:x})]})}function Ze({filters:o,onFilters:n,canReset:u,onResetFilters:t,results:a,...g}){const C=de(o.startDate,o.endDate),l=p.useCallback(()=>{n("name","")},[n]),b=p.useCallback(r=>{const j=o.type.filter(v=>v!==r);n("type",j)},[o.type,n]),i=p.useCallback(()=>{n("startDate",null),n("endDate",null)},[n]);return e.jsxs(k,{spacing:1.5,...g,children:[e.jsxs(S,{sx:{typography:"body2"},children:[e.jsx("strong",{children:a}),e.jsx(S,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),e.jsxs(k,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!o.type.length&&e.jsx(W,{label:"Types:",children:o.type.map(r=>e.jsx(N,{label:r,size:"small",onDelete:()=>b(r)},r))}),o.startDate&&o.endDate&&e.jsx(W,{label:"Date:",children:e.jsx(N,{size:"small",label:C,onDelete:i})}),!!o.name&&e.jsx(W,{label:"Keyword:",children:e.jsx(N,{label:o.name,size:"small",onDelete:l})}),u&&e.jsx(F,{color:"error",onClick:t,startIcon:e.jsx(d,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function W({label:o,children:n,sx:u,...t}){return e.jsxs(k,{component:ae,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...u},...t,children:[e.jsx(S,{component:"span",sx:{typography:"subtitle2"},children:o}),e.jsx(k,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}const oe={name:"",type:[],startDate:null,endDate:null};function eo(){const{enqueueSnackbar:o}=H(),n=Pe({defaultRowsPerPage:10}),u=fe(),t=w(),a=w(),g=w(),[C,l]=p.useState("list"),[b,i]=p.useState(ve),[r,j]=p.useState(oe),v=ye(r.startDate,r.endDate),h=oo({inputData:b,comparator:Ae(n.order,n.orderBy),filters:r,dateError:v}),f=h.slice(n.page*n.rowsPerPage,n.page*n.rowsPerPage+n.rowsPerPage),m=!!r.name||!!r.type.length||!!r.startDate&&!!r.endDate,y=!h.length&&m||!h.length,c=p.useCallback((D,A)=>{A!==null&&l(A)},[]),x=p.useCallback((D,A)=>{n.onResetPage(),j($=>({...$,[D]:A}))},[n]),s=p.useCallback(()=>{j(oe)},[]),I=p.useCallback(D=>{const A=b.filter($=>$.id!==D);o("Delete success!"),i(A),n.onUpdatePageDeleteRow(f.length)},[f.length,o,n,b]),R=p.useCallback(()=>{const D=b.filter(A=>!n.selected.includes(A.id));o("Delete success!"),i(D),n.onUpdatePageDeleteRows({totalRowsInPage:f.length,totalRowsFiltered:h.length})},[h.length,f.length,o,n,b]),P=e.jsxs(k,{spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[e.jsx(Je,{openDateRange:t.value,onCloseDateRange:t.onFalse,onOpenDateRange:t.onTrue,filters:r,onFilters:x,dateError:v,typeOptions:we}),e.jsxs(Ke,{size:"small",value:C,exclusive:!0,onChange:c,children:[e.jsx(ee,{value:"list",children:e.jsx(d,{icon:"solar:list-bold"})}),e.jsx(ee,{value:"grid",children:e.jsx(d,{icon:"mingcute:dot-grid-fill"})})]})]}),T=e.jsx(Ze,{filters:r,onResetFilters:s,canReset:m,onFilters:x,results:h.length});return e.jsxs(e.Fragment,{children:[e.jsxs(ke,{maxWidth:u.themeStretch?!1:"lg",children:[e.jsxs(k,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(z,{variant:"h4",children:"File Manager"}),e.jsx(F,{variant:"contained",startIcon:e.jsx(d,{icon:"eva:cloud-upload-fill"}),onClick:g.onTrue,children:"Upload"})]}),e.jsxs(k,{spacing:2.5,sx:{my:{xs:3,md:5}},children:[P,m&&T]}),y?e.jsx(Se,{filled:!0,title:"No Data",sx:{py:10}}):e.jsx(e.Fragment,{children:C==="list"?e.jsx(Ve,{table:n,dataFiltered:h,onDeleteRow:I,notFound:y,onOpenConfirm:a.onTrue}):e.jsx(Qe,{table:n,dataFiltered:h,onDeleteItem:I,onOpenConfirm:a.onTrue})})]}),e.jsx(G,{open:g.value,onClose:g.onFalse}),e.jsx(J,{open:a.value,onClose:a.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",n.selected.length," "]})," items?"]}),action:e.jsx(F,{variant:"contained",color:"error",onClick:()=>{R(),a.onFalse()},children:"Delete"})})]})}function oo({inputData:o,comparator:n,filters:u,dateError:t}){const{name:a,type:g,startDate:C,endDate:l}=u,b=o.map((i,r)=>[i,r]);return b.sort((i,r)=>{const j=n(i[0],r[0]);return j!==0?j:i[1]-r[1]}),o=b.map(i=>i[0]),a&&(o=o.filter(i=>i.name.toLowerCase().indexOf(a.toLowerCase())!==-1)),g.length&&(o=o.filter(i=>g.includes(Te(i.type)))),t||C&&l&&(o=o.filter(i=>De(i.createdAt,C,l))),o}function Jo(){return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{children:e.jsx("title",{children:" Dashboard: File Manager"})}),e.jsx(eo,{})]})}export{Jo as default};
