import{aP as g,aQ as m,r as i,aR as l,aS as f,aT as x,aU as p,aV as d,aW as S,j as y,f as h,s as V}from"./index-9PXStj3N.js";function C(t){const s=g(()=>m(t)),{isStatic:r}=i.useContext(l);if(r){const[,n]=i.useState(t);i.useEffect(()=>s.on("change",n),[])}return s}function E(t,s={}){const{isStatic:r}=i.useContext(l),n=i.useRef(null),e=C(f(t)?t.get():t),o=()=>{n.current&&n.current.stop()};return i.useInsertionEffect(()=>e.attach((a,c)=>{if(r)return c(a);if(o(),n.current=x({keyframes:[e.get(),a],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:c}),!p.isProcessing){const u=performance.now()-p.timestamp;u<30&&(n.current.time=d(u))}return e.get()},o),[JSON.stringify(s)]),S(()=>{if(f(t))return t.on("change",a=>e.set(parseFloat(a)))},[e]),e}function j({color:t="primary",size:s=3,scrollYProgress:r,sx:n,...e}){const o=E(r,{stiffness:100,damping:30,restDelta:.001});return y.jsx(h,{component:V.div,sx:{top:0,left:0,right:0,height:s,zIndex:1999,position:"fixed",transformOrigin:"0%",bgcolor:"text.primary",...t!=="inherit"&&{background:a=>`linear-gradient(135deg, ${a.palette[t].light} 0%, ${a.palette[t].main} 100%)`},...n},style:{scaleX:o},...e})}export{j as S};
