import{u as p,f as u,e as g,S as c}from"./styles-Cl1s-tfH.js";import{r as j,g as P,j as s,S as a,P as L,h as S,n as z,B as k,p as R,T as U,t as C,W as E,I as d,G as f}from"./index-FUpSYZfM.js";import{f as G}from"./format-time-D4EY72EP.js";import{a as w}from"./format-number-BjmxE6zl.js";import{A as T}from"./upgrade-storage-illustration-4vgJ2j6a.js";import{I as b}from"./image-DCaAg6xn.js";import{T as A}from"./text-max-line-BZqsZtra.js";import{C as V}from"./Card-DzhULbep.js";import{A as y}from"./Avatar-CDXAIrKp.js";import{C as M}from"./CardContent-CaqMVfwK.js";import{B}from"./Button-CrrXzI8c.js";function q(){const o=g.post.list,{data:e,isLoading:t,error:i,isValidating:n}=p(o,u);return j.useMemo(()=>({posts:(e==null?void 0:e.posts)||[],postsLoading:t,postsError:i,postsValidating:n,postsEmpty:!t&&!(e!=null&&e.posts.length)}),[e==null?void 0:e.posts,i,t,n])}function ss(o){const e=o?[g.post.details,{params:{title:o}}]:"",{data:t,isLoading:i,error:n,isValidating:r}=p(e,u);return j.useMemo(()=>({post:t==null?void 0:t.post,postLoading:i,postError:n,postValidating:r}),[t==null?void 0:t.post,n,i,r])}function ts(o){const e=o?[g.post.latest,{params:{title:o}}]:"",{data:t,isLoading:i,error:n,isValidating:r}=p(e,u);return j.useMemo(()=>({latestPosts:(t==null?void 0:t.latestPosts)||[],latestPostsLoading:i,latestPostsError:n,latestPostsValidating:r,latestPostsEmpty:!i&&!(t!=null&&t.latestPosts.length)}),[t==null?void 0:t.latestPosts,n,i,r])}function es(o){const e=o?[g.post.search,{params:{query:o}}]:"",{data:t,isLoading:i,error:n,isValidating:r}=p(e,u,{keepPreviousData:!0});return j.useMemo(()=>({searchResults:(t==null?void 0:t.results)||[],searchLoading:i,searchError:n,searchValidating:r,searchEmpty:!i&&!(t!=null&&t.results.length)}),[t==null?void 0:t.results,n,i,r])}function D({variant:o="vertical",sx:e,...t}){const i=P("up","sm");return o==="horizontal"?s.jsxs(a,{component:L,direction:"row",variant:"outlined",sx:{borderRadius:2,...e},...t,children:[s.jsxs(a,{spacing:2,flexGrow:1,sx:{p:3},children:[s.jsxs(a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[s.jsx(c,{variant:"circular",sx:{width:40,height:40}}),s.jsx(c,{sx:{width:24,height:12}})]}),s.jsx(c,{sx:{width:1,height:10}}),s.jsx(c,{sx:{width:"calc(100% - 40px)",height:10}}),s.jsx(c,{sx:{width:"calc(100% - 80px)",height:10}})]}),i&&s.jsx(a,{sx:{p:1},children:s.jsx(c,{sx:{width:170,height:240,flexShrink:0}})})]}):s.jsxs(a,{component:L,variant:"outlined",sx:{borderRadius:2,...e},...t,children:[s.jsx(a,{sx:{p:1},children:s.jsx(c,{sx:{paddingTop:"100%"}})}),s.jsxs(a,{spacing:2,direction:"row",alignItems:"center",sx:{p:3,pt:2},children:[s.jsx(c,{variant:"circular",sx:{width:40,height:40,flexShrink:0}}),s.jsxs(a,{flexGrow:1,spacing:1,children:[s.jsx(c,{sx:{height:10}}),s.jsx(c,{sx:{width:.5,height:10}})]})]})]})}function os({...o}){return s.jsxs(a,{...o,children:[s.jsx(c,{variant:"rectangular",sx:{height:480}}),s.jsxs(a,{sx:{width:1,maxWidth:720,mx:"auto"},children:[s.jsxs(a,{spacing:1,sx:{my:8},children:[s.jsx(c,{height:10}),s.jsx(c,{height:10,sx:{width:.9}}),s.jsx(c,{height:10,sx:{width:.8}})]}),s.jsx(c,{sx:{height:720}})]})]})}function F({post:o,index:e}){const t=S(),i=P("up","md"),{coverUrl:n,title:r,totalViews:l,totalComments:m,totalShares:x,author:h,createdAt:v}=o;return i&&(e===0||e===1||e===2)?s.jsxs(V,{children:[s.jsx(y,{alt:h.name,src:h.avatarUrl,sx:{top:24,left:24,zIndex:9,position:"absolute"}}),s.jsx(I,{title:r,createdAt:v,totalViews:l,totalShares:x,totalComments:m,index:e}),s.jsx(b,{alt:r,src:n,overlay:z(t.palette.grey[900],.48),sx:{width:1,height:360}})]}):s.jsxs(V,{children:[s.jsxs(k,{sx:{position:"relative"},children:[s.jsx(T,{sx:{left:0,zIndex:9,width:88,height:36,bottom:-16,position:"absolute"}}),s.jsx(y,{alt:h.name,src:h.avatarUrl,sx:{left:24,zIndex:9,bottom:-24,position:"absolute"}}),s.jsx(b,{alt:r,src:n,ratio:"4/3"})]}),s.jsx(I,{title:r,totalViews:l,totalComments:m,totalShares:x,createdAt:v})]})}function I({title:o,createdAt:e,totalViews:t,totalShares:i,totalComments:n,index:r}){const l=P("up","md"),m=R.post.details(o),x=r===0,h=r===1||r===2;return s.jsxs(M,{sx:{pt:6,width:1,...(x||h)&&{pt:0,zIndex:9,bottom:0,position:"absolute",color:"common.white"}},children:[s.jsx(U,{variant:"caption",component:"div",sx:{mb:1,color:"text.disabled",...(x||h)&&{opacity:.64,color:"common.white"}},children:G(e)}),s.jsx(C,{color:"inherit",component:E,href:m,children:s.jsx(A,{variant:l&&x?"h5":"subtitle2",line:2,persistent:!0,children:o})}),s.jsxs(a,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{mt:3,typography:"caption",color:"text.disabled",...(x||h)&&{opacity:.64,color:"common.white"}},children:[s.jsxs(a,{direction:"row",alignItems:"center",children:[s.jsx(d,{icon:"eva:message-circle-fill",width:16,sx:{mr:.5}}),w(n)]}),s.jsxs(a,{direction:"row",alignItems:"center",children:[s.jsx(d,{icon:"solar:eye-bold",width:16,sx:{mr:.5}}),w(t)]}),s.jsxs(a,{direction:"row",alignItems:"center",children:[s.jsx(d,{icon:"solar:share-bold",width:16,sx:{mr:.5}}),w(i)]})]})]})}function rs({posts:o,loading:e,disabledIndex:t}){const i=s.jsx(s.Fragment,{children:[...Array(16)].map((r,l)=>s.jsx(f,{xs:12,sm:6,md:3,children:s.jsx(D,{})},l))}),n=s.jsx(s.Fragment,{children:o.map((r,l)=>s.jsx(f,{xs:12,sm:6,md:!t&&l===0?6:3,children:s.jsx(F,{post:r,index:t?void 0:l})},r.id))});return s.jsxs(s.Fragment,{children:[s.jsx(f,{container:!0,spacing:3,children:e?i:n}),o.length>8&&s.jsx(a,{alignItems:"center",sx:{mt:8,mb:{xs:10,md:15}},children:s.jsx(B,{size:"large",variant:"outlined",startIcon:s.jsx(d,{icon:"svg-spinners:12-dots-scale-rotate",width:24}),children:"Load More"})})]})}export{rs as P,es as a,ss as b,ts as c,os as d,q as u};
