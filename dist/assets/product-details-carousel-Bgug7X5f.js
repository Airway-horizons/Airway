import{u as g,f as m,e as f,S as n}from"./axios-DvVLzkf3.js";import{r as u,j as e,P as S,S as l,G as h,B as x,U as L,p as I,aj as C,I as y,h as k,s as P,o as R,n as V}from"./index-BeqSvFdx.js";import{I as T}from"./image-C28n8gFq.js";import{u as E,L as z}from"./use-light-box-D9cMT0me.js";import{u as j,a as w,b as B}from"./carousel-arrow-index-DtHxNWus.js";import{A as G}from"./Avatar-BWEyCkgg.js";function $(){const t=f.product.list,{data:r,isLoading:s,error:o,isValidating:i}=g(t,m);return u.useMemo(()=>({products:(r==null?void 0:r.products)||[],productsLoading:s,productsError:o,productsValidating:i,productsEmpty:!s&&!(r!=null&&r.products.length)}),[r==null?void 0:r.products,o,s,i])}function F(t){const r=t?[f.product.details,{params:{productId:t}}]:"",{data:s,isLoading:o,error:i,isValidating:a}=g(r,m);return u.useMemo(()=>({product:s==null?void 0:s.product,productLoading:o,productError:i,productValidating:a}),[s==null?void 0:s.product,i,o,a])}function O(t){const r=t?[f.product.search,{params:{query:t}}]:"",{data:s,isLoading:o,error:i,isValidating:a}=g(r,m,{keepPreviousData:!0});return u.useMemo(()=>({searchResults:(s==null?void 0:s.results)||[],searchLoading:o,searchError:i,searchValidating:a,searchEmpty:!o&&!(s!=null&&s.results.length)}),[s==null?void 0:s.results,i,o,a])}function Z({sx:t,...r}){return e.jsxs(S,{variant:"outlined",sx:{borderRadius:2,...t},...r,children:[e.jsx(l,{sx:{p:1},children:e.jsx(n,{sx:{paddingTop:"100%"}})}),e.jsxs(l,{spacing:2,sx:{p:3,pt:2},children:[e.jsx(n,{sx:{width:.5,height:16}}),e.jsxs(l,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(l,{direction:"row",children:[e.jsx(n,{variant:"circular",sx:{width:16,height:16}}),e.jsx(n,{variant:"circular",sx:{width:16,height:16}}),e.jsx(n,{variant:"circular",sx:{width:16,height:16}})]}),e.jsx(n,{sx:{width:40,height:16}})]})]})]})}function _({...t}){return e.jsxs(h,{container:!0,spacing:8,...t,children:[e.jsx(h,{xs:12,md:6,lg:7,children:e.jsx(n,{sx:{paddingTop:"100%"}})}),e.jsx(h,{xs:12,md:6,lg:5,children:e.jsxs(l,{spacing:3,children:[e.jsx(n,{sx:{height:16,width:48}}),e.jsx(n,{sx:{height:16,width:80}}),e.jsx(n,{sx:{height:16,width:.5}}),e.jsx(n,{sx:{height:16,width:.75}}),e.jsx(n,{sx:{height:120}})]})}),e.jsx(h,{xs:12,children:e.jsx(l,{direction:"row",alignItems:"center",children:[...Array(3)].map((r,s)=>e.jsxs(l,{spacing:2,alignItems:"center",justifyContent:"center",sx:{width:1},children:[e.jsx(n,{variant:"circular",sx:{width:80,height:80}}),e.jsx(n,{sx:{height:16,width:160}}),e.jsx(n,{sx:{height:16,width:80}})]},s))})})]})}function X({totalItems:t}){return e.jsx(x,{component:L,href:I.product.checkout,sx:{right:0,top:112,zIndex:999,display:"flex",cursor:"pointer",position:"fixed",color:"text.primary",borderTopLeftRadius:16,borderBottomLeftRadius:16,bgcolor:"background.paper",padding:r=>r.spacing(1,3,1,2),boxShadow:r=>r.customShadows.dropdown,transition:r=>r.transitions.create(["opacity"]),"&:hover":{opacity:.72}},children:e.jsx(C,{showZero:!0,badgeContent:t,color:"error",max:99,children:e.jsx(y,{icon:"solar:cart-3-bold",width:24})})})}const d=64,N=P("div")(({length:t,theme:r})=>({position:"relative",margin:r.spacing(0,"auto"),"& .slick-slide":{lineHeight:0},...t===1&&{maxWidth:d*1+16},...t===2&&{maxWidth:d*2+32},...(t===3||t===4)&&{maxWidth:d*3+48},...t>=5&&{maxWidth:d*6},...t>3&&{"&:before, &:after":{...R({direction:"to left",startColor:`${V(r.palette.background.default,0)} 0%`,endColor:`${r.palette.background.default} 100%`}),top:0,zIndex:9,content:"''",height:"100%",position:"absolute",width:d*2/3},"&:after":{right:0,transform:"scaleX(-1)"}}}));function J({product:t}){const r=k(),s=t.images.map(c=>({src:c})),o=E(s),i=j({rtl:!1,draggable:!1,adaptiveHeight:!0}),a=j({rtl:!1,centerMode:!0,swipeToSlide:!0,focusOnSelect:!0,variableWidth:!0,centerPadding:"0px",slidesToShow:s.length>3?3:s.length});u.useEffect(()=>{i.onSetNav(),a.onSetNav()},[i,a]),u.useEffect(()=>{o.open&&i.onTogo(o.selected)},[i,o.open,o.selected]);const p=e.jsxs(x,{sx:{mb:3,borderRadius:2,overflow:"hidden",position:"relative"},children:[e.jsx(w,{...i.carouselSettings,asNavFor:a.nav,ref:i.carouselRef,children:s.map(c=>e.jsx(T,{alt:c.src,src:c.src,ratio:"1/1",onClick:()=>o.onOpen(c.src),sx:{cursor:"zoom-in"}},c.src))}),e.jsx(B,{index:i.currentIndex,total:s.length,onNext:a.onNext,onPrev:a.onPrev})]}),b=e.jsx(N,{length:s.length,children:e.jsx(w,{...a.carouselSettings,asNavFor:i.nav,ref:a.carouselRef,children:s.map((c,v)=>e.jsx(x,{sx:{px:.5},children:e.jsx(G,{alt:c.src,src:c.src,variant:"rounded",sx:{width:d,height:d,opacity:.48,cursor:"pointer",...i.currentIndex===v&&{opacity:1,border:`solid 2.5px ${r.palette.primary.main}`}}},c.src)},c.src))})});return e.jsxs(x,{sx:{"& .slick-slide":{float:r.direction==="rtl"?"right":"left"}},children:[p,b,e.jsx(z,{index:o.selected,slides:s,open:o.open,close:o.onClose,onGetCurrentIndex:c=>o.setSelected(c)})]})}export{X as C,Z as P,O as a,F as b,J as c,_ as d,$ as u};
