import{h as g,j as e,B as j,e as p,f as v,l as b,M as y,a as I,bm as C,bn as P,I as k,bo as w,bp as S,r as W,F as A,L as B,T}from"./index-9PXStj3N.js";import{A as E}from"./Autocomplete-BaJmFtAK.js";import{T as F}from"./TextField-CbHhpLIE.js";function M({sort:r,sortOptions:i,onSort:a}){const n=g();return e.jsxs(e.Fragment,{children:[e.jsxs(j,{disableRipple:!0,color:"inherit",onClick:n.onOpen,endIcon:e.jsx(p,{icon:n.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold",textTransform:"capitalize"},children:["Sort By:",e.jsx(v,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:r})]}),e.jsx(b,{open:n.open,onClose:n.onClose,sx:{width:140},children:i.map(s=>e.jsx(y,{selected:r===s.value,onClick:()=>{n.onClose(),a(s.value)},children:s.label},s.value))})]})}function U({query:r,results:i,onSearch:a,hrefItem:n,loading:s}){const h=I(),c=t=>{h.push(n(t))},x=t=>{r&&t.key==="Enter"&&c(r)};return e.jsx(E,{sx:{width:{xs:1,sm:260}},loading:s,autoHighlight:!0,popupIcon:null,options:i,onInputChange:(t,o)=>a(o),getOptionLabel:t=>t.title,noOptionsText:e.jsx(C,{query:r,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(t,o)=>t.id===o.id,slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:{[` .${P.option}`]:{pl:.75}}}},renderInput:t=>e.jsx(F,{...t,placeholder:"Search...",onKeyUp:x,InputProps:{...t.InputProps,startAdornment:e.jsx(k,{position:"start",children:e.jsx(p,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:e.jsxs(e.Fragment,{children:[s?e.jsx(p,{icon:"svg-spinners:8-dots-rotate",sx:{mr:-3}}):null,t.InputProps.endAdornment]})}}),renderOption:(t,o,{inputValue:d})=>{const m=w(o.title,d),u=S(o.title,m);return W.createElement("li",{...t,key:o.id},e.jsx(A,{alt:o.title,src:o.coverUrl,variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},o.id),e.jsx(B,{underline:"none",onClick:()=>c(o.title),children:u.map((l,f)=>e.jsx(T,{component:"span",color:l.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:l.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:l.text},f))},d))}})}export{U as P,M as a};
